# VALIDATION_MODE                                                                                                                                                                                                                                                                                                                                                         
Which of the following statements are true of VALIDATION_MODE in Snowflake? (Choose two.)                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                          
A. The VALIDATION_MODE option is used when creating an Internal Stage<br>B. VALIDATION_MODE=RETURN_ALL_ERRORS is a parameter of the COPY command<br>C. The VALIDATION_MODE option will validate data to be loaded by the COPY statement while completing the<br>D. The VALIDATION_MODE option will validate data to be loaded by the COPY statement without completing the
                                                                                                                                                                                                                                                                                                                                                                          
<details>                                                                                                                                                                                                                                                                                                                                                                 
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                          
<strong>B, D</strong>                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                          
The correct answers are B and D. The VALIDATION_MODE parameter in Snowflake is specifically used with                                                                                                                                                                                                                                                                     
the COPY command to control how data is validated during the loading process. Option B is accurate because                                                                                                                                                                                                                                                                
VALIDATION_MODE=RETURN_ALL_ERRORS is a valid setting for the COPY command, instructing                                                                                                                                                                                                                                                                                    
Snowflake to return all errors encountered without loading the data. This mode is helpful for identifying                                                                                                                                                                                                                                                                 
issues prior to a full data load. Option D is also correct because the core functionality of VALIDATION_MODE                                                                                                                                                                                                                                                              
is to validate the incoming data against the target table's schema and constraints without actually committing                                                                                                                                                                                                                                                            
the load. It checks for issues like data type mismatches, null violations, and other constraint breaches, and                                                                                                                                                                                                                                                             
returns any potential errors for review. Therefore, options B and D are related and important parts of data                                                                                                                                                                                                                                                               
validation during data loading in Snowflake. Conversely, option A is incorrect, as internal stages are createdusing the CREATE STAGE command and don't utilize the VALIDATION_MODE option. Similarly, option C is                                                                                                                                                         
incorrect because VALIDATION_MODE doesn't complete the load, it only returns the validation results, and                                                                                                                                                                                                                                                                  
does not load the data if validation fails. The option does not show data load failures. Thus, B and D accurately                                                                                                                                                                                                                                                         
reflect the usage of VALIDATION_MODE with the COPY command for error detection before loading data into                                                                                                                                                                                                                                                                   
Snowflake. The two VALIDATION_MODE are 'RETURN_ERRORS' and 'RETURN_ALL_ERRORS' and by default                                                                                                                                                                                                                                                                             
the VALIDATION_MODE is not set.                                                                                                                                                                                                                                                                                                                                           
Here are authoritative links for further research:                                                                                                                                                                                                                                                                                                                        
Snowflake Documentation on COPY Command: https://docs.snowflake.com/en/sql-reference/sql/copy-intotable.html (Look for the VALIDATION_MODE parameter description)                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                          
---                                                                                                                                                                                                                                                                                                                                                                       
While using a COPY command with a Validation_mode parameter, which of the following statements will return an                                                                                                                                                                                                                                                             
error?                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                          
A. Statements that insert a duplicate record during a load<br>B. Statements that have a specific data type in the source<br>C. Statements that have duplicate file names<br>D. Statements that transform data during a load                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                          
<details>                                                                                                                                                                                                                                                                                                                                                                 
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                          
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                          
The VALIDATION_MODE parameter in Snowflake's COPY command primarily focuses on validating data                                                                                                                                                                                                                                                                            
within the files being loaded, not the metadata or operations outside of the data itself. Let's analyze each                                                                                                                                                                                                                                                              
option:                                                                                                                                                                                                                                                                                                                                                                   
A. Statements that insert a duplicate record during a load: VALIDATION_MODE doesn't directly detect or                                                                                                                                                                                                                                                                    
prevent duplicate records during loading. This is typically handled by other mechanisms like unique key                                                                                                                                                                                                                                                                   
constraints on the target table or subsequent data quality checks. The focus is on the validity of each                                                                                                                                                                                                                                                                   
individual record from the input source.                                                                                                                                                                                                                                                                                                                                  
B. Statements that have a specific data type in the source: VALIDATION_MODE can indeed be used to check                                                                                                                                                                                                                                                                   
that the datatypes in the source files are compatible or can be cast into the target table's datatypes. If casting                                                                                                                                                                                                                                                        
is required and it might cause errors (e.g., a string in the source to an integer in the target, with non numeric                                                                                                                                                                                                                                                         
values), validation_mode = 'return_errors' will catch it.                                                                                                                                                                                                                                                                                                                 
C. Statements that have duplicate file names: Snowflake's loading mechanism does not error if there are                                                                                                                                                                                                                                                                   
duplicate file names, if they are in distinct directories. Furthermore, if they are in the same directory and have                                                                                                                                                                                                                                                        
the same structure and data, this can often just lead to loading the same records twice. It is more of a                                                                                                                                                                                                                                                                  
performance concern, not an error.                                                                                                                                                                                                                                                                                                                                        
D. Statements that transform data during a load: When VALIDATION_MODE is used with a COPY command,                                                                                                                                                                                                                                                                        
it does not cause an error. You can use transformation during copy command.                                                                                                                                                                                                                                                                                               
Therefore, the answer is D. VALIDATION_MODE is concerned with detecting data quality issues during the                                                                                                                                                                                                                                                                    
read, but not during transformations. Snowflake’s transformations do not necessarily produce a direct error,                                                                                                                                                                                                                                                              
they are part of the operation. VALIDATION_MODE is aimed at file and record validity, and transformation is                                                                                                                                                                                                                                                               
considered within the bounds of Snowflake's intended functionality of COPY. The other options relate more                                                                                                                                                                                                                                                                 
directly to data content issues during a copy.                                                                                                                                                                                                                                                                                                                            
Authoritative Links for further research:                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on COPY command: https://docs.snowflake.com/en/sql-reference/sql/copy-intotable.html                                                                                                                                                                                                                                                              
Snowflake Documentation on Data Loading: https://docs.snowflake.com/en/guides-overview-dataloading.html                                                                                                                                                                                                                                                                   
Snowflake Documentation on VALIDATION_MODE parameter: Search for "VALIDATION_MODE" within the                                                                                                                                                                                                                                                                             
COPY command documentation mentioned above.                                                                                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                          
---                                                                                                                                                                                                                                                                                                                                                                       
How can a Snowflake user validate data that is unloaded using the COPY INTO command?                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                          
A. Load the data into a CSV file.<br>B. Load the data into a relational table.<br>C. Use the VALIDATION_MODE = SQL statement.<br>D. Use the VALIDATION_MODE = RETURN_ROWS statement.                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                          
<details>                                                                                                                                                                                                                                                                                                                                                                 
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                          
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                          
The correct answer is D. Use the VALIDATION_MODE = RETURN_ROWS statement.                                                                                                                                                                                                                                                                                                 
When unloading data from Snowflake using the COPY INTO command, it's crucial to verify that                                                                                                                                                                                                                                                                               
the data was successfully extracted and formatted as intended. The VALIDATION_MODE                                                                                                                                                                                                                                                                                        
parameter provides a mechanism for this validation. Option D, VALIDATION_MODE =                                                                                                                                                                                                                                                                                           
RETURN_ROWS, is specifically designed to return rows that were loaded/unloaded. This option                                                                                                                                                                                                                                                                               
doesn't physically load or unload anything but instead generates a result set that indicates the                                                                                                                                                                                                                                                                          
rows that would have been affected by the COPY operation and therefore lets users see the                                                                                                                                                                                                                                                                                 
intended output without performing an actual data loading or unloading operation.                                                                                                                                                                                                                                                                                         
Option A, loading into a CSV file, is not a validation method; it's the target of a standard unload                                                                                                                                                                                                                                                                       
operation. It doesn't offer a way to check if the data was correctly prepared before being                                                                                                                                                                                                                                                                                
unloaded. Option B, loading into a relational table, is also not for validation but rather for further                                                                                                                                                                                                                                                                    
use of the unloaded data. Option C, VALIDATION_MODE = SQL, is not a valid value for this                                                                                                                                                                                                                                                                                  
parameter within the COPY INTO command syntax, making it unsuitable for data validation.                                                                                                                                                                                                                                                                                  
The RETURN_ROWS mode facilitates pre-unload checks by displaying a sample of the data to be                                                                                                                                                                                                                                                                               
unloaded before it actually hits the external stage. It is a safe way to avoid mistakes in your query                                                                                                                                                                                                                                                                     
and ensures that you get the data you expect without physically changing data on the external                                                                                                                                                                                                                                                                             
stage.In summary, the VALIDATION_MODE = RETURN_ROWS is uniquely positioned as a validation tool                                                                                                                                                                                                                                                                           
when used with COPY INTO command in Snowflake. It allows users to inspect the would-be output                                                                                                                                                                                                                                                                             
without altering the data in the target stage, making it the ideal choice for verifying the accuracy                                                                                                                                                                                                                                                                      
and format of data intended for export.                                                                                                                                                                                                                                                                                                                                   
Authoritative links:                                                                                                                                                                                                                                                                                                                                                      
Snowflake Documentation on COPY INTO: https://docs.snowflake.com/en/sqlreference/sql/copy-into-location.html (Look for the VALIDATION_MODE parameter details)                                                                                                                                                                                                             
</details>                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                          
