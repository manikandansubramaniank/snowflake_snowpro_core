# Streams                                                                                                                                                                                                                                                                                        
Which SQL commands, when committed, will consume a stream and advance the stream offset? (Choose two.)                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                 
A. UPDATE TABLE FROM STREAM<br>B. SELECT FROM STREAM<br>C. INSERT INTO TABLE SELECT FROM STREAM<br>D. ALTER TABLE AS SELECT FROM STREAM<br>E. BEGIN COMMIT                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>A, C</strong>                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                 
Here's a detailed justification for why options A and C are the correct answers, while options B, D, and E are                                                                                                                                                                                   
incorrect, regarding Snowflake stream consumption and offset advancement:Correct Answers: A and C                                                                                                                                                                                                
A. UPDATE TABLE FROM STREAM: When an UPDATE statement incorporates data from a stream, Snowflake                                                                                                                                                                                                 
processes the new data entries within the stream and applies the updates to the target table. The act of                                                                                                                                                                                         
applying these changes effectively consumes the stream data that was read by the UPDATE command. Upon                                                                                                                                                                                            
successful commit of the transaction, the stream's offset is advanced, marking that data as processed.                                                                                                                                                                                           
C. INSERT INTO TABLE SELECT FROM STREAM: Similar to the UPDATE statement, using INSERT with a                                                                                                                                                                                                    
SELECT from a stream causes Snowflake to read and insert the stream's data into the specified table. The                                                                                                                                                                                         
stream's data is consumed as it is incorporated into the table. When the transaction containing the INSERT                                                                                                                                                                                       
command is committed, the stream's offset progresses.                                                                                                                                                                                                                                            
Incorrect Answers: B, D, and E                                                                                                                                                                                                                                                                   
B. SELECT FROM STREAM: A SELECT statement, used to query a stream, only reads the stream's data. It                                                                                                                                                                                              
doesn't perform any modifications or consume the data. The stream's offset remains unchanged after a                                                                                                                                                                                             
SELECT operation as the data is not moved or transformed in a way that requires consumption.                                                                                                                                                                                                     
D. ALTER TABLE AS SELECT FROM STREAM: The ALTER TABLE AS SELECT command recreates or                                                                                                                                                                                                             
modifies the target table based on the results of the SELECT. While the SELECT part of this operation does                                                                                                                                                                                       
read from a stream, the ALTER TABLE part does not consume stream data for its modification. This command                                                                                                                                                                                         
will read stream data to create new table structure, but the data that this table gets is based on the query                                                                                                                                                                                     
made from it. Therefore the stream offset will NOT be advanced.                                                                                                                                                                                                                                  
E. BEGIN COMMIT: BEGIN and COMMIT are transactional control statements. BEGIN initiates a transaction,                                                                                                                                                                                           
and COMMIT concludes it by permanently saving the changes made within the transaction. These commands                                                                                                                                                                                            
are necessary for any data manipulation that will advance the stream offset but they, themselves, do not                                                                                                                                                                                         
directly consume stream data. They allow other statements to do so.                                                                                                                                                                                                                              
Key Concept: Stream Consumption                                                                                                                                                                                                                                                                  
In Snowflake, a stream acts as a change data capture (CDC) mechanism. It tracks changes made to a source                                                                                                                                                                                         
table. SQL commands that consume the stream are those that move or transform the data from the stream to                                                                                                                                                                                         
another location. Commands which only query the stream do not consume the stream. When a transaction                                                                                                                                                                                             
including a stream-consuming command is committed, the stream's internal offset moves forward, marking                                                                                                                                                                                           
that the processed data has been read and prevents it from being read again. If the transaction was to be                                                                                                                                                                                        
rolled back the stream offset would not move. This provides transactional consistency.                                                                                                                                                                                                           
Authoritative Links:                                                                                                                                                                                                                                                                             
Snowflake Streams Documentation: https://docs.snowflake.com/en/sql-reference/sql/create-stream.html                                                                                                                                                                                              
Snowflake Stream Consumption and Offsets: https://docs.snowflake.com/en/sql-reference/sql/createstream.html#stream-consumption                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which Snowflake objects track DML changes made to tables, like inserts, updates, and deletes?                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                 
A. Pipes<br>B. Streams<br>C. Tasks<br>D. Procedures                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>B</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
Here's a detailed justification for why Streams are the correct answer:                                                                                                                                                                                                                          
Streams in Snowflake are designed specifically to track Data Manipulation Language (DML) changes made to                                                                                                                                                                                         
tables, providing a change data capture (CDC) mechanism. When inserts, updates, or deletes occur on a                                                                                                                                                                                            
source table, the stream records these changes. A stream only tracks changes; it does not store the entire                                                                                                                                                                                       
source table's data. This makes streams an efficient way to monitor data modifications without the overhead                                                                                                                                                                                      
of duplicating the entire table.                                                                                                                                                                                                                                                                 
Pipes, on the other hand, are used for continuous data ingestion. They automate the process of loading data                                                                                                                                                                                      
from external stages into Snowflake tables but do not track DML changes after the data has been loaded.                                                                                                                                                                                          
Tasks are used to schedule SQL statements, including data transformations and loading, but they do not                                                                                                                                                                                           
inherently track DML changes on a table in the way streams do. Procedures are stored blocks of SQL code                                                                                                                                                                                          
that can perform various operations, but like Tasks, they don't automatically track DML changes; custom logic                                                                                                                                                                                    
would need to be written to achieve such tracking. Streams track what rows have changed, including whichwere inserted, deleted, or updated, along with metadata about the changes.                                                                                                               
Therefore, only Streams have the built-in capability to track the specified types of DML operations.                                                                                                                                                                                             
Refer to the following documentation for further clarification:                                                                                                                                                                                                                                  
Snowflake Streams: https://docs.snowflake.com/en/user-guide/streams.html                                                                                                                                                                                                                         
Snowflake Pipes: https://docs.snowflake.com/en/user-guide/data-load-snowpipe-intro.html                                                                                                                                                                                                          
Snowflake Tasks: https://docs.snowflake.com/en/user-guide/tasks-intro.html                                                                                                                                                                                                                       
Snowflake Procedures: https://docs.snowflake.com/en/sql-reference/stored-procedures-overview.html                                                                                                                                                                                                
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which parameter prevents streams on tables from becoming stale?                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                 
A. MAX_DATA_EXTENSION_TIME_IN_DAYS<br>B. MIN_DATA_RETENSION_TIME_IN_DAYS<br>C. LOCK_TIMEOUT<br>D. STALE_AFTER                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>A</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is A. MAX_DATA_EXTENSION_TIME_IN_DAYS. Streams in Snowflake track changes to                                                                                                                                                                                                  
tables, providing a way to implement change data capture (CDC). When a table is modified, the stream records                                                                                                                                                                                     
these changes. However, streams can become "stale" if they are not consumed within a certain period. This                                                                                                                                                                                        
staleness occurs because Snowflake may purge historical data, including the change tracking information                                                                                                                                                                                          
needed by the stream.                                                                                                                                                                                                                                                                            
The MAX_DATA_EXTENSION_TIME_IN_DAYS parameter, configurable at the table level, prevents streams                                                                                                                                                                                                 
from becoming stale by controlling the maximum number of days that the historical change tracking data is                                                                                                                                                                                        
retained. By extending the retention period, the stream can be consumed even if it hasn't been read for a                                                                                                                                                                                        
longer duration. If the stream isn’t consumed within this period, it might become stale, and queries on the                                                                                                                                                                                      
stream will then fail.                                                                                                                                                                                                                                                                           
Options B, C, and D are not related to preventing stream staleness. MIN_DATA_RETENTION_TIME_IN_DAYS                                                                                                                                                                                              
(B) defines the minimum number of days that historical data is retained, but doesn't control change tracking                                                                                                                                                                                     
for streams specifically. LOCK_TIMEOUT (C) is related to session locking, not data retention. STALE_AFTER                                                                                                                                                                                        
(D) isn’t a standard Snowflake parameter related to stream behavior. Therefore,                                                                                                                                                                                                                  
MAX_DATA_EXTENSION_TIME_IN_DAYS is the only option that directly impacts the ability of streams to                                                                                                                                                                                               
function correctly over time. Properly managing this setting is crucial for reliable CDC implementations.                                                                                                                                                                                        
Snowflake Documentation on StreamsSnowflake Documentation on Data Retention                                                                                                                                                                                                                      
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which Snowflake object can be used to record DML changes made to a table?                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                 
A. Snowpipe<br>B. Stage<br>C. Stream<br>D. Task                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>C</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is C. Stream. Streams in Snowflake are database objects designed specifically to track                                                                                                                                                                                        
Data Manipulation Language (DML) changes made to tables, views, or external tables. They act as change                                                                                                                                                                                           
data capture (CDC) mechanisms, recording inserts, updates, and deletes. Unlike Snowpipes, which are used                                                                                                                                                                                         
for continuous data loading, streams focus on tracking changes to existing data. Stages, on the other hand,                                                                                                                                                                                      
are file storage locations and are not involved in tracking data modifications. Tasks are for scheduling SQL                                                                                                                                                                                     
operations and do not inherently record DML changes. A stream maintains a record of the changes,                                                                                                                                                                                                 
essentially a change log, that can be queried and processed, enabling downstream applications and                                                                                                                                                                                                
processes to consume the changes since a specific point in time. This makes them ideal for scenarios                                                                                                                                                                                             
requiring data auditing, replication, or incremental data processing. Streams do not store data themselves;                                                                                                                                                                                      
they maintain a set of metadata referencing the data changes. When a stream is queried, it returns the delta                                                                                                                                                                                     
in data modifications, not the entire table’s content. Consequently, streams allow for efficient, differential                                                                                                                                                                                   
processing of table changes.                                                                                                                                                                                                                                                                     
For further details, consult the official Snowflake documentation:                                                                                                                                                                                                                               
https://docs.snowflake.com/en/user-guide/streams-intro                                                                                                                                                                                                                                           
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
What Snowflake object records Data Manipulation Language (DML) changes so that actions can be taken using the                                                                                                                                                                                    
changed data?                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                 
A. Pipe<br>B. Stream<br>C. Task<br>D. View                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>B</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
Streams are the Snowflake objects that track Data Manipulation Language (DML) changes made to tables.                                                                                                                                                                                            
They record metadata about changes such as inserts, updates, and deletes. This change data capture (CDC)                                                                                                                                                                                         
functionality allows downstream processes to act upon only the changed data, rather than re-processing                                                                                                                                                                                           
entire tables. When a DML operation occurs on a base table, a stream effectively captures the "before" and                                                                                                                                                                                       
"after" images of modified rows. This information is then available for querying and consumption, providing a                                                                                                                                                                                    
way to incrementally process changes. Streams are crucial for implementing efficient data pipelines, enabling                                                                                                                                                                                    
near real-time analysis or triggering further automated actions. They also facilitate auditing and tracking data                                                                                                                                                                                 
modifications. Pipes, on the other hand, are used for loading data from external stages. Tasks automate SQL                                                                                                                                                                                      
statements or stored procedures on a schedule. Views are virtual tables based on queries. Hence, streams are                                                                                                                                                                                     
the correct option for tracking DML changes.                                                                                                                                                                                                                                                     
Relevant Documentation:                                                                                                                                                                                                                                                                          
Snowflake Streams                                                                                                                                                                                                                                                                                
Understanding Change Data Capture with Snowflake Streams                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which stream type can be used for tracking the records in external tables?                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
A. Append-only<br>B. External<br>C. Insert-only<br>D. Standard                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>C</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is C. Insert-only. Here's why: Snowflake streams are designed to track changes in tables,                                                                                                                                                                                     
enabling Change Data Capture (CDC) functionality. Different stream types cater to specific use cases. A                                                                                                                                                                                          
standard stream tracks all DML changes (inserts, updates, deletes) on a table. An append-only stream only                                                                                                                                                                                        
tracks inserts; any updates or deletes are not captured. An insert-only stream is specifically tailored for                                                                                                                                                                                      
external tables. External tables, by definition, point to data residing outside of Snowflake's managed storage.                                                                                                                                                                                  
As such, Snowflake cannot directly track updates and deletes on these external files. Insert-only streams                                                                                                                                                                                        
provide a practical approach by tracking newly appended data to the external storage locations. This design                                                                                                                                                                                      
ensures that any new files or records added to the external source can be identified and processed by                                                                                                                                                                                            
Snowflake. Using append-only streams on standard tables is suitable for tracking only inserts, while an insertonly stream is specifically designed to track only inserts into external tables. These limitations stem from                                                                       
Snowflake’s inability to perform transactional DML operations on external files directly, hence the need for                                                                                                                                                                                     
specialized stream type for external tables. This is not the case for standard tables, where Snowflake can                                                                                                                                                                                       
track all changes. Therefore, insert-only streams are the appropriate choice for tracking changes in external                                                                                                                                                                                    
tables.                                                                                                                                                                                                                                                                                          
Authoritative Links for further research:                                                                                                                                                                                                                                                        
Snowflake Documentation on Streams: https://docs.snowflake.com/en/user-guide/streams-intro.html                                                                                                                                                                                                  
Snowflake Documentation on External Tables: https://docs.snowflake.com/en/user-guide/tables-externalintro.html                                                                                                                                                                                   
Snowflake Documentation on Stream Types: https://docs.snowflake.com/en/sql-reference/sql/createstream.html                                                                                                                                                                                       
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which Snowflake feature records changes made to a table so actions can be taken using that change data                                                                                                                                                                                           
capture?                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                 
A. Materialized View<br>B. Pipe<br>C. Stream<br>D. Task                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>C</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is C. Stream. Snowflake Streams are the designated feature for change data                                                                                                                                                                                                    
capture (CDC). They provide a record of data manipulation language (DML) changes made to a                                                                                                                                                                                                       
table, such as inserts, updates, and deletes. Unlike Materialized Views, which are snapshots of                                                                                                                                                                                                  
data at a specific time, Streams track changes incrementally. They do not store the data itself;                                                                                                                                                                                                 
instead, they maintain a record of which rows have been altered and what the nature of the                                                                                                                                                                                                       
alteration was. This allows for efficient and real-time processing of changes for downstream                                                                                                                                                                                                     
applications or data pipelines. Pipes are designed for data ingestion from external locations, not                                                                                                                                                                                               
tracking changes within Snowflake tables. Tasks are used for scheduling SQL code to run at                                                                                                                                                                                                       
specified intervals and while they can be combined with streams for CDC workflows, they do not                                                                                                                                                                                                   
directly provide the CDC capability. Thus, Streams are the only Snowflake feature providing the                                                                                                                                                                                                  
functionality to record changes to a table for change data capture.                                                                                                                                                                                                                              
Further Research:                                                                                                                                                                                                                                                                                
Snowflake Documentation on Streams: https://docs.snowflake.com/en/user-guide/streams-intro                                                                                                                                                                                                       
Snowflake Documentation on Change Data Capture: https://docs.snowflake.com/en/guidesconcepts-cdc                                                                                                                                                                                                 
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
How does Snowflake handle the data retention period for a table if a stream has not been consumed?                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
A. The data retention period s reduced to a minimum of 14 days.<br>B. The data retention period is permanently extended for the table.<br>C. The data retention period is temporarily extended to the stream’s offset.<br>D. The data retention period is not affected by the stream consumption.
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>C</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is C: "The data retention period is temporarily extended to the                                                                                                                                                                                                               
stream’s offset."                                                                                                                                                                                                                                                                                
Snowflake utilizes a feature called Time Travel, which allows access to historical data                                                                                                                                                                                                          
within a defined retention period. This retention period, typically 1 day (1440 minutes) by                                                                                                                                                                                                      
default for standard edition, dictates how far back in time you can query the data. When                                                                                                                                                                                                         
a stream is created on a table, Snowflake's Time Travel behavior is modified. If a stream                                                                                                                                                                                                        
has not consumed the changes from the source table, Snowflake temporarily extends                                                                                                                                                                                                                
the Time Travel retention period for that specific table to the point (offset) where the                                                                                                                                                                                                         
stream last read changes. This is crucial because if the stream's offset was older than                                                                                                                                                                                                          
the table's normal Time Travel period and that normal period was reached, then the                                                                                                                                                                                                               
unread changes in source table would be deleted. Snowflake prevents this data loss due                                                                                                                                                                                                           
to unconsumed stream changes. The retention extension isn’t permanent; it only                                                                                                                                                                                                                   
persists as long as the stream’s offset remains older than the table's normal Time                                                                                                                                                                                                               
Travel. Once the stream consumes changes and advances its offset, the Time Travel for                                                                                                                                                                                                            
the table is once again only limited by it’s standard configured retention period, allowing                                                                                                                                                                                                      
older data to be purged if that is older than the standard retention period. The temporary                                                                                                                                                                                                       
extension ensures data consistency between the source table and the stream's tracked                                                                                                                                                                                                             
changes, a key concept in data streaming and change data capture (CDC). Options A, B,                                                                                                                                                                                                            
and D are incorrect since Snowflake explicitly manages retention based on stream offset                                                                                                                                                                                                          
to ensure proper CDC functionality, so it is not reduced to a minimum, or permanently                                                                                                                                                                                                            
extended nor unaffected.                                                                                                                                                                                                                                                                         
Authoritative Links:                                                                                                                                                                                                                                                                             
Snowflake Documentation on Streams: https://docs.snowflake.com/en/sqlreference/sql/create-stream.html (Focus on the section regarding "Stream Behavior and                                                                                                                                       
Data Retention.")                                                                                                                                                                                                                                                                                
Snowflake Documentation on Time Travel: https://docs.snowflake.com/en/userguide/data-time-travel.html (Specifically the behavior in relation to streams and change                                                                                                                               
data capture).                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
Which Snowflake database object can be used to track data changes made to table data?                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                 
A. Tag<br>B. Task<br>C. Stream<br>D. Stored procedure                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>C</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The correct answer is C. Stream.                                                                                                                                                                                                                                                                 
Streams in Snowflake are specifically designed to track Data Manipulation Language                                                                                                                                                                                                               
(DML) changes, such as inserts, updates, and deletes, made to table data. They function                                                                                                                                                                                                          
as change data capture (CDC) mechanisms, recording the modified rows along with                                                                                                                                                                                                                  
metadata about the operation (e.g., type of change, timestamp). They are lightweight                                                                                                                                                                                                             
and don't store copies of the table data, only the metadata about the changes. This                                                                                                                                                                                                              
makes them efficient for capturing data modifications. Tags, Tasks, and Stored                                                                                                                                                                                                                   
Procedures do not inherently fulfill the role of tracking data changes like Streams do.                                                                                                                                                                                                          
Tags are used for metadata labeling, Tasks are for scheduling SQL code execution, and                                                                                                                                                                                                            
Stored Procedures are for encapsulating logic. While you might incorporate Streams into                                                                                                                                                                                                          
a Stored Procedure, that would not be the primary function of the procedure itself.                                                                                                                                                                                                              
Streams provide the ability to query data that has changed in a table, enabling                                                                                                                                                                                                                  
downstream processing or audits of the modifications. This makes them vital for various                                                                                                                                                                                                          
use cases like data replication, change history tracking, and real-time analytics based on                                                                                                                                                                                                       
alterations in the data source. Therefore, the object that best suits the purpose of                                                                                                                                                                                                             
tracking data changes in Snowflake tables is the Stream.                                                                                                                                                                                                                                         
Further Research:Snowflake Documentation on Streams: https://docs.snowflake.com/en/userguide/streams.html                                                                                                                                                                                        
Change Data Capture (CDC) Concepts: Search for "Change Data Capture" on reputable                                                                                                                                                                                                                
cloud computing resource websites.                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
What are the possible values within a METADATA$ACTION column in a Snowflake stream? (Choose two.)                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                 
A. INSERT<br>B. UPDATE<br>C. DELETE<br>D. TRUNCATE<br>E. UPSERT                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>A, D</strong>                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                 
The METADATA$ACTION column in a Snowflake stream tracks the type of change made                                                                                                                                                                                                                  
to a table that the stream is monitoring. This column is crucial for understanding the                                                                                                                                                                                                           
nature of modifications and is used when consuming data from the stream. The two                                                                                                                                                                                                                 
possible values that METADATA$ACTION can hold are INSERT and DELETE. When a new                                                                                                                                                                                                                  
row is added to the source table, the stream records this with an INSERT value in                                                                                                                                                                                                                
METADATA$ACTION. Conversely, if a row is removed from the source table, the stream                                                                                                                                                                                                               
marks the corresponding record with a DELETE value. It’s important to note that                                                                                                                                                                                                                  
Snowflake streams don't directly track UPDATE operations. Instead, an update is                                                                                                                                                                                                                  
treated as a combination of a delete of the old row and an insert of the new, modified                                                                                                                                                                                                           
row. TRUNCATE operations are not tracked directly within the METADATA$ACTION but                                                                                                                                                                                                                 
result in a complete deletion of all rows, each indicated with a DELETE. There is no                                                                                                                                                                                                             
explicit UPSERT operation recorded as well, an upsert would be represented with either                                                                                                                                                                                                           
an insert or an update. Consequently, options A (INSERT) and D (DELETE) are the correct                                                                                                                                                                                                          
values of the METADATA$ACTION column.For further research and confirmation, please                                                                                                                                                                                                               
refer to the official Snowflake documentation:                                                                                                                                                                                                                                                   
Snowflake Streams                                                                                                                                                                                                                                                                                
Stream Metadata Columns                                                                                                                                                                                                                                                                          
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
A stream object will advance its offset when it is used in which statement?                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                 
A. SELECT<br>B. INSERT<br>C. CREATE<br>D. COPY INTO [location]                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>B</strong>                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                 
The Correct answer is ["B"]                                                                                                                                                                                                                                                                      
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
---                                                                                                                                                                                                                                                                                              
A stream can be created on which Snowflake objects to record data manipulation language (DML) changes?                                                                                                                                                                                           
(Choose two.)                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                 
A. Databases<br>B. Standard tables<br>C. Standard views<br>D. Schemas<br>E. Pipes                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                 
<details>                                                                                                                                                                                                                                                                                        
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                 
<strong>B, C</strong>                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                 
The Correct answer is ["B","C"]                                                                                                                                                                                                                                                                  
</details>                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                 
