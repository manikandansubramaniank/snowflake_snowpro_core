# Directory tables                                                                                                                                                                                                                                                                                                                                                                                     
Which of the following are considerations when using a directory table when working with unstructured data?                                                                                                                                                                                                                                                                                            
(Choose two.)                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                       
A. A directory table is a separate database object.<br>B. Directory tables store data file metadata.<br>C. A directory table will be automatically added to a stage.<br>D. Directory tables do not have their own grantable privileges.<br>E. Directory table data can not be refreshed manually.                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B, D</strong>                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
Let's break down why B and D are the correct choices when considering directory tables in Snowflake for                                                                                                                                                                                                                                                                                                
unstructured data.                                                                                                                                                                                                                                                                                                                                                                                     
B. Directory tables store data file metadata. This is fundamentally true. Directory tables are specialized                                                                                                                                                                                                                                                                                             
structures that, unlike regular tables, do not store the actual data within files. Instead, they maintain                                                                                                                                                                                                                                                                                              
metadata about the files within a stage location. This metadata includes things like file names, sizes, last                                                                                                                                                                                                                                                                                           
modified dates, and etags. This allows for efficient querying and manipulation of files without having to load                                                                                                                                                                                                                                                                                         
the content of the files directly. Directory tables, therefore, serve as a catalog or index for your unstructured                                                                                                                                                                                                                                                                                      
data residing in external storage locations.                                                                                                                                                                                                                                                                                                                                                           
D. Directory tables do not have their own grantable privileges. This is also accurate. Unlike tables and views,directory tables do not have granular access control. They inherit the access permissions of the stage they're                                                                                                                                                                          
associated with. This simplifies security because you control access to the directory contents through the                                                                                                                                                                                                                                                                                             
permissions set on the stage. Instead of managing permissions on the directory table level, the authorization                                                                                                                                                                                                                                                                                          
system checks if a user has the right privileges on the underlying stage.                                                                                                                                                                                                                                                                                                                              
Why other options are incorrect:                                                                                                                                                                                                                                                                                                                                                                       
A. A directory table is a separate database object. While it is a database object in the sense that you create it                                                                                                                                                                                                                                                                                      
using SQL, it's very different from a typical table. It is not a standard database object in that it has no data, it                                                                                                                                                                                                                                                                                   
contains metadata of data. Thus, It's not just a separate database object; it’s a specialized metadata catalog                                                                                                                                                                                                                                                                                         
associated with a stage.                                                                                                                                                                                                                                                                                                                                                                               
C. A directory table will be automatically added to a stage. This is wrong. You have to explicitly create a                                                                                                                                                                                                                                                                                            
directory table for a stage. It does not get added automatically and is an optional enhancement to stages.                                                                                                                                                                                                                                                                                             
E. Directory table data can not be refreshed manually. This is incorrect. While data is not refreshed by itself,                                                                                                                                                                                                                                                                                       
the ALTER DIRECTORY TABLE <directory_table_name> REFRESH command allows manual refreshing,                                                                                                                                                                                                                                                                                                             
ensuring the directory table reflects the most up-to-date file metadata.                                                                                                                                                                                                                                                                                                                               
In summary: Directory tables in Snowflake are designed to manage metadata of files in a stage efficiently                                                                                                                                                                                                                                                                                              
and thus provide information on unstructured data, and they inherit permissions from stages.                                                                                                                                                                                                                                                                                                           
Authoritative links:                                                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Directory Tables: This is the official Snowflake documentation detailing the                                                                                                                                                                                                                                                                                                
creation and usage of directory tables.                                                                                                                                                                                                                                                                                                                                                                
Snowflake Documentation on Stages: This documentation helps understand the context of stages and their                                                                                                                                                                                                                                                                                                 
relation to directory tables.                                                                                                                                                                                                                                                                                                                                                                          
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which Snowflake URL type is used by directory tables?                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
A. File<br>B. Pre-signed<br>C. Scoped<br>D. Virtual-hosted style                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is A, File URLs. Directory tables in Snowflake are designed to work with data residing in                                                                                                                                                                                                                                                                                           
external stages, and these stages reference files stored in cloud storage like AWS S3, Azure Blob Storage, or                                                                                                                                                                                                                                                                                          
Google Cloud Storage. File URLs, specifically, point directly to the location of these data files within the                                                                                                                                                                                                                                                                                           
external stage. Unlike pre-signed URLs, which provide temporary access for specific operations, or scoped                                                                                                                                                                                                                                                                                              
URLs which are used with secure data sharing, File URLs are used to create a persistent link to the data files,                                                                                                                                                                                                                                                                                        
enabling Snowflake to directly read data from the referenced files within the directory table. Virtual-hosted                                                                                                                                                                                                                                                                                          
style URLs, another option used for accessing cloud storage, aren’t specifically employed by Snowflake'sdirectory table implementation, which relies on the simpler file paths. By associating the file locations within                                                                                                                                                                               
the stage definition, the directory table enables efficient discovery and querying of files based on their                                                                                                                                                                                                                                                                                             
location. Directory tables track metadata associated with files within an external stage, which facilitates tasks                                                                                                                                                                                                                                                                                      
like automated data ingestion and data governance. The core function of a directory table hinges on having                                                                                                                                                                                                                                                                                             
persistent references to these external files; therefore, File URLs are the appropriate URL type for use with                                                                                                                                                                                                                                                                                          
directory tables.                                                                                                                                                                                                                                                                                                                                                                                      
Further Research:                                                                                                                                                                                                                                                                                                                                                                                      
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sql-reference/sql/createdirectory-table.html                                                                                                                                                                                                                                                                                
Snowflake Documentation on External Stages: https://docs.snowflake.com/en/sql-reference/sql/createstage.html                                                                                                                                                                                                                                                                                           
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
How does a Snowflake user reference a directory table created on stage mystage in a SQL query?                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                       
A. SELECT * FROM @mystage::DIRECTORY<br>B. SELECT * FROM DIRECTORY (@mystage)<br>C. SELECT * FROM TO_TABLE (DIRECTORY @mystage)<br>D. SELECT * FROM TABLE (@mystage DIRECTORY)                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct syntax to query a directory table in Snowflake, created on a stage named mystage, is using the                                                                                                                                                                                                                                                                                             
DIRECTORY keyword followed by the stage name within parentheses: SELECT * FROM DIRECTORY                                                                                                                                                                                                                                                                                                               
(@mystage). This syntax directly retrieves the directory table, which lists files and metadata from the                                                                                                                                                                                                                                                                                                
designated stage.                                                                                                                                                                                                                                                                                                                                                                                      
Option A, SELECT * FROM @mystage::DIRECTORY, uses the double colon operator, which is generally used                                                                                                                                                                                                                                                                                                   
for schema and object resolution within Snowflake and is incorrect for referencing a directory table.                                                                                                                                                                                                                                                                                                  
Option C, SELECT * FROM TO_TABLE (DIRECTORY @mystage), incorrectly attempts to convert the directory                                                                                                                                                                                                                                                                                                   
listing to a table using TO_TABLE, which is unnecessary and not the correct approach. The DIRECTORY                                                                                                                                                                                                                                                                                                    
function already returns a table-like structure.                                                                                                                                                                                                                                                                                                                                                       
Option D, SELECT * FROM TABLE (@mystage DIRECTORY), inverts the correct syntax and is also incorrect. It                                                                                                                                                                                                                                                                                               
would interpret DIRECTORY as an object name rather than a keyword.                                                                                                                                                                                                                                                                                                                                     
Snowflake treats directory tables as virtual tables generated from a stage's contents. The DIRECTORY                                                                                                                                                                                                                                                                                                   
function facilitates accessing these metadata tables for files stored on the stage. The syntax DIRECTORY                                                                                                                                                                                                                                                                                               
(@stage_name) is the specific instruction recognized by Snowflake to fetch directory table content. It avoids                                                                                                                                                                                                                                                                                          
unnecessary type conversions and is the most direct way to access stage file metadata within a SQL query.For additional information, refer to the official Snowflake documentation on directory tables:                                                                                                                                                                                                
https://docs.snowflake.com/en/sql-reference/functions/directory.                                                                                                                                                                                                                                                                                                                                       
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which columns are available in the output of a Snowflake directory table? (Choose two.)                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                       
A. CATALOG_NAME<br>B. FILE_NAME<br>C. LAST_MODIFIED<br>D. RELATIVE_PATH<br>E. STAGE_NAME                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>C, D</strong>                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is C and D. Snowflake directory tables provide metadata about files within a stage.                                                                                                                                                                                                                                                                                                 
Specifically, the LAST_MODIFIED column indicates the timestamp when a file was last modified in the stage,                                                                                                                                                                                                                                                                                             
crucial for tracking data updates and processing workflows. Similarly, the RELATIVE_PATH column displays                                                                                                                                                                                                                                                                                               
the path of the file relative to the stage's root directory, which is essential for accessing and manipulating                                                                                                                                                                                                                                                                                         
specific files within the stage.                                                                                                                                                                                                                                                                                                                                                                       
Option A, CATALOG_NAME, is incorrect because directory tables do not store catalog information directly.                                                                                                                                                                                                                                                                                               
Instead, they focus on file system-like details within the stage. Option B, FILE_NAME, is also incorrect; the                                                                                                                                                                                                                                                                                          
path is represented as relative path, not just the file name. Finally, option E, STAGE_NAME, is incorrect as                                                                                                                                                                                                                                                                                           
directory tables do not include information about the name of the stage because the table itself is tied to the                                                                                                                                                                                                                                                                                        
stage. The output is tied to that stage already and it would be redundant.                                                                                                                                                                                                                                                                                                                             
Therefore, LAST_MODIFIED (C) and RELATIVE_PATH (D) are the two correct answers, providing the most                                                                                                                                                                                                                                                                                                     
relevant file metadata for data loading and management purposes in Snowflake. Directory tables facilitate                                                                                                                                                                                                                                                                                              
streamlined access and organization of data within stages.                                                                                                                                                                                                                                                                                                                                             
Here are some links for further research:                                                                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sql-reference/tables-directory                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Stages: https://docs.snowflake.com/en/user-guide/data-load-stages                                                                                                                                                                                                                                                                                                           
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which query contains a Snowflake hosted file URL in a directory table for a stage named bronzestage?                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                       
A. list @bronzestage;<br>B. select * from directory(@bronzestage);<br>C. select metadata$filename from @bronzestage;<br>D. select * from table(information_schema.stage_directory_file_registration_history(                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is B. select * from directory(@bronzestage);                                                                                                                                                                                                                                                                                                                                        
Here's why:                                                                                                                                                                                                                                                                                                                                                                                            
Directory tables in Snowflake provide a structured way to view the files residing within a stage. These tables                                                                                                                                                                                                                                                                                         
are automatically generated by Snowflake and present file metadata such as file names, sizes, and last                                                                                                                                                                                                                                                                                                 
modified times. Crucially, they also include the Snowflake-hosted file URLs. Option B, select * from                                                                                                                                                                                                                                                                                                   
directory(@bronzestage);, directly queries the directory table associated with the stage named bronzestage,                                                                                                                                                                                                                                                                                            
retrieving all columns which includes the Snowflake-hosted file URLs. This aligns perfectly with thequestion's requirement to find a query that returns these URLs.                                                                                                                                                                                                                                    
Option A, list @bronzestage;, simply lists the files within the stage using a command-line style output and                                                                                                                                                                                                                                                                                            
doesn’t provide a queryable structure nor the hosted URLs directly. Option C, select metadata$filename from                                                                                                                                                                                                                                                                                            
@bronzestage;, retrieves only the filename part of the metadata, not the full Snowflake URL, and it can be                                                                                                                                                                                                                                                                                             
used only for file inside the table. Option D, select * from                                                                                                                                                                                                                                                                                                                                           
table(information_schema.stage_directory_file_registration_history( stage_name=>'bronzestage'));, queries                                                                                                                                                                                                                                                                                              
Snowflake's information schema for file registration history which contains records of files that have been                                                                                                                                                                                                                                                                                            
registered to external tables and does not return current stage's directory table with file URLs.                                                                                                                                                                                                                                                                                                      
Therefore, the directory function is the designated mechanism in Snowflake to expose directory metadata,                                                                                                                                                                                                                                                                                               
including Snowflake-hosted file URLs, in a structured queryable format. The output of select * from                                                                                                                                                                                                                                                                                                    
directory(@bronzestage) will provide a table, which contains the relative_path column that holds Snowflakehosted file URLs. This approach allows users to programmatically access and utilize the file URLs for various                                                                                                                                                                                
purposes within Snowflake.                                                                                                                                                                                                                                                                                                                                                                             
For further research, you can refer to the official Snowflake documentation on directory tables and stage                                                                                                                                                                                                                                                                                              
management:                                                                                                                                                                                                                                                                                                                                                                                            
Directory Tables: https://docs.snowflake.com/en/sql-reference/functions/directory                                                                                                                                                                                                                                                                                                                      
Stages: https://docs.snowflake.com/en/user-guide/data-load-stages                                                                                                                                                                                                                                                                                                                                      
Metadata columns: https://docs.snowflake.com/en/sql-reference/constructs/metadata-columns                                                                                                                                                                                                                                                                                                              
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which Snowflake table is an implicit object layered on a stage, where the stage can be either internal or external?                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
A. Directory table<br>B. Temporary table<br>C. Transient table<br>D. A table with a materialized view                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is A. Directory table. Directory tables in Snowflake are special, read-only                                                                                                                                                                                                                                                                                                         
tables that are automatically created and maintained by the system. They function as an implicit                                                                                                                                                                                                                                                                                                       
layer on top of stages, whether those stages are internal (managed within Snowflake) or external                                                                                                                                                                                                                                                                                                       
(pointing to locations like S3 or Azure Blob Storage). These tables provide a structured, table-like                                                                                                                                                                                                                                                                                                   
view of the files residing within the stage's location. They allow users to query metadata about                                                                                                                                                                                                                                                                                                       
those files, such as filenames, file sizes, and last modified dates, without needing to directly                                                                                                                                                                                                                                                                                                       
interact with the underlying cloud storage system. This capability is particularly useful for                                                                                                                                                                                                                                                                                                          
understanding and managing the content of stages, especially when dealing with numerous files.                                                                                                                                                                                                                                                                                                         
Neither temporary nor transient tables have any relation to stages or external file locations, as                                                                                                                                                                                                                                                                                                      
they are used for storing data within a Snowflake session and they only exist within a user's                                                                                                                                                                                                                                                                                                          
current session or specified timeframe respectively. A materialized view is a precomputed dataset                                                                                                                                                                                                                                                                                                      
from an underlying query, and does not in any way interact with files in a stage.                                                                                                                                                                                                                                                                                                                      
Here are some authoritative links for further research:                                                                                                                                                                                                                                                                                                                                                
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sqlreference/sql/create-directory-table                                                                                                                                                                                                                                                                                     
Snowflake Documentation on Stages: https://docs.snowflake.com/en/user-guide/data-loadoverview#stages                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Temporary and Transient Tables:                                                                                                                                                                                                                                                                                                                                             
https://docs.snowflake.com/en/user-guide/tables-temp-transient                                                                                                                                                                                                                                                                                                                                         
Snowflake Documentation on Materialized Views: https://docs.snowflake.com/en/userguide/views-materialized                                                                                                                                                                                                                                                                                              
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
What are characteristics of Snowflake directory fables? (Choose two.)                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
A. Directory tables are separate database objects.<br>B. Directory tables can only be used with an external stage.<br>C. Directory tables contain copies of staged files in binary format.<br>D. Directory tables store file-level metadata about the data files in a stage.<br>E. A directory table can be added to a stage when the stage is created, or later.                                      
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>D, E</strong>                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
Let's break down why options D and E are the correct characteristics of Snowflake directory                                                                                                                                                                                                                                                                                                            
tables.                                                                                                                                                                                                                                                                                                                                                                                                
Option D: Directory tables store file-level metadata about the data files in a stage. This is                                                                                                                                                                                                                                                                                                          
fundamentally true. A directory table doesn't hold the actual data of the files; instead, it contains                                                                                                                                                                                                                                                                                                  
metadata such as the file name, size, last modified time, and potentially other relevant attributes.                                                                                                                                                                                                                                                                                                   
This metadata allows Snowflake to understand the structure and contents of the files within a                                                                                                                                                                                                                                                                                                          
stage, enabling efficient data loading, processing, and querying without accessing the full file                                                                                                                                                                                                                                                                                                       
contents directly.                                                                                                                                                                                                                                                                                                                                                                                     
Option E: A directory table can be added to a stage when the stage is created, or later. This is also                                                                                                                                                                                                                                                                                                  
accurate. Snowflake provides flexibility in managing directory tables. You can create a stage with                                                                                                                                                                                                                                                                                                     
an associated directory table right from the beginning, or you can add one to an existing stage                                                                                                                                                                                                                                                                                                        
later on using ALTER commands. This allows for adaptable workflows based on your data                                                                                                                                                                                                                                                                                                                  
processing needs.                                                                                                                                                                                                                                                                                                                                                                                      
Why other options are incorrect:                                                                                                                                                                                                                                                                                                                                                                       
Option A: Directory tables are separate database objects. While directory tables are stored in the                                                                                                                                                                                                                                                                                                     
database, they aren't standalone objects like tables or views. They are tied directly to a stage and                                                                                                                                                                                                                                                                                                   
cannot exist independently.                                                                                                                                                                                                                                                                                                                                                                            
Option B: Directory tables can only be used with an external stage. Directory tables are not                                                                                                                                                                                                                                                                                                           
exclusive to external stages. They can be created and associated with internal stages as well.                                                                                                                                                                                                                                                                                                         
Option C: Directory tables contain copies of staged files in binary format. As mentioned before,                                                                                                                                                                                                                                                                                                       
directory tables do not store the actual file data. They contain metadata about the files in the                                                                                                                                                                                                                                                                                                       
stage, not copies of their contents.                                                                                                                                                                                                                                                                                                                                                                   
In summary: Directory tables are crucial for managing file metadata within stages, providing                                                                                                                                                                                                                                                                                                           
valuable information for Snowflake's data processing engine. Their flexibility in creation and                                                                                                                                                                                                                                                                                                         
association with stages enables better control over data workflows.                                                                                                                                                                                                                                                                                                                                    
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Directory Tables                                                                                                                                                                                                                                                                                                                                                            
Snowflake Documentation on Stages                                                                                                                                                                                                                                                                                                                                                                      
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which kind of Snowflake table stores file-level metadata for each file in a stage?                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
A. Directory<br>B. External<br>C. Temporary<br>D. Transient                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is A, Directory. Snowflake utilizes directory tables to store metadata about                                                                                                                                                                                                                                                                                                        
files located within internal and external stages. These metadata tables do not hold the actual                                                                                                                                                                                                                                                                                                        
data from the files themselves but, instead, maintain information such as the file path, size, last                                                                                                                                                                                                                                                                                                    
modified time, and other attributes. This metadata enables Snowflake to efficiently manage and                                                                                                                                                                                                                                                                                                         
query data residing in the stages without needing to scan the full content of every file each time.                                                                                                                                                                                                                                                                                                    
Option B, External tables, references data stored outside of Snowflake, typically in cloud object                                                                                                                                                                                                                                                                                                      
storage, but doesn't store metadata about files within a stage. Option C, Temporary tables, are                                                                                                                                                                                                                                                                                                        
local to the user session and are designed for storing intermediary results. They aren't related to                                                                                                                                                                                                                                                                                                    
stage metadata. Option D, Transient tables, are similar to permanent tables but lack fail-safe                                                                                                                                                                                                                                                                                                         
features. They also don't store file-level metadata. Directory tables, therefore, are uniquely                                                                                                                                                                                                                                                                                                         
purposed to provide the file metadata management for Snowflake stages. This makes them                                                                                                                                                                                                                                                                                                                 
essential for tasks like data loading using COPY INTO statements and querying semi-structured                                                                                                                                                                                                                                                                                                          
data stored in files within stages. These tables are created implicitly when a stage is created or                                                                                                                                                                                                                                                                                                     
refreshed using the ALTER STAGE command. For additional information, refer to the official                                                                                                                                                                                                                                                                                                             
Snowflake documentation on Directory Tables: https://docs.snowflake.com/en/sqlreference/sql/desc-stage.html and on Stages: https://docs.snowflake.com/en/user-guide/dataload-stages.html.                                                                                                                                                                                                              
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
What are characteristics of directory tables when used with unstructured data? (Choose two.)                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                       
A. Only cloud storage stages support directory tables.<br>B. Each directory table has grantable privileges of its own.<br>C. Directory tables store a catalog of staged files in cloud storage.<br>D. A directory table can be added explicitly to a stage when the stage is created.<br>E. A directory table is a separate database object that can be layered explicitly on a stage.                 
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>C, D</strong>                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
Directory tables in Snowflake are specialized structures designed to catalog and manage                                                                                                                                                                                                                                                                                                                
unstructured data files residing in cloud storage stages. Option C is correct because directorytables function as a metadata repository that lists the files present in a specified stage location.                                                                                                                                                                                                    
Instead of storing the actual data, they maintain a record of file names, sizes, and modification                                                                                                                                                                                                                                                                                                      
timestamps, enabling efficient querying and manipulation of the underlying unstructured data.                                                                                                                                                                                                                                                                                                          
Option D is also correct because when you create a stage, you have the option to enable a                                                                                                                                                                                                                                                                                                              
directory table associated with it using the DIRECTORY = (ENABLE = TRUE) parameter. This                                                                                                                                                                                                                                                                                                               
binds the directory table to the stage and automatically populates it with file metadata from the                                                                                                                                                                                                                                                                                                      
designated storage location.                                                                                                                                                                                                                                                                                                                                                                           
Option A is incorrect as both internal and external stages can utilize directory tables. Option B is                                                                                                                                                                                                                                                                                                   
also incorrect; while stages have privileges, directory tables themselves don't have separate,                                                                                                                                                                                                                                                                                                         
directly grantable privileges. Privileges on the stage also apply to the associated directory table.                                                                                                                                                                                                                                                                                                   
Option E is incorrect because a directory table is not layered explicitly after the stage is created,                                                                                                                                                                                                                                                                                                  
it needs to be enabled as part of the stage creation.                                                                                                                                                                                                                                                                                                                                                  
Therefore, the correct answers are C and D, highlighting the cataloging nature of directory tables                                                                                                                                                                                                                                                                                                     
and the direct association established when creating a stage with the directory table feature                                                                                                                                                                                                                                                                                                          
enabled.                                                                                                                                                                                                                                                                                                                                                                                               
For further research, refer to the official Snowflake                                                                                                                                                                                                                                                                                                                                                  
documentation:https://docs.snowflake.com/en/sql-reference/sql/create-stage.html#optionalparametershttps://docs.snowflake.com/en/guides/unstructured-data/directory-tables                                                                                                                                                                                                                              
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
For directory tables, what stage allows for automatic refreshing of metadata?                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                       
A. User stage<br>B. Table stage<br>C. Named internal stage<br>D. Named external stage                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is D. Named external stage. Here's why:                                                                                                                                                                                                                                                                                                                                             
Directory tables in Snowflake are designed to provide metadata about files stored in external                                                                                                                                                                                                                                                                                                          
cloud storage locations. These locations, such as AWS S3, Azure Blob Storage, or Google Cloud                                                                                                                                                                                                                                                                                                          
Storage, are accessed via named external stages. Unlike user or table stages (which are typically                                                                                                                                                                                                                                                                                                      
used for Snowflake-managed data), named external stages are specifically configured to point to                                                                                                                                                                                                                                                                                                        
these external storage locations.                                                                                                                                                                                                                                                                                                                                                                      
The key feature related to automatic metadata refresh is Snowflake's ability to detect changes in                                                                                                                                                                                                                                                                                                      
the files within the referenced external stage. When a named external stage is used with a                                                                                                                                                                                                                                                                                                             
directory table, Snowflake automatically scans the specified storage location for new, changed,                                                                                                                                                                                                                                                                                                        
or deleted files. This process is triggered periodically by Snowflake's background services and                                                                                                                                                                                                                                                                                                        
allows the directory table's metadata to remain synchronized with the actual file system in the                                                                                                                                                                                                                                                                                                        
external stage. This automatic refreshing eliminates the need to manually update the directory                                                                                                                                                                                                                                                                                                         
table metadata, ensuring that the information it contains is always current. User stages and table                                                                                                                                                                                                                                                                                                     
stages, on the other hand, don't inherently support this automatic refresh mechanism. They are                                                                                                                                                                                                                                                                                                         
designed for specific use cases like user-level file staging or internal table data loading.                                                                                                                                                                                                                                                                                                           
Therefore, when considering directory tables and the ability to automatically reflect metadata                                                                                                                                                                                                                                                                                                         
changes from an external storage location, named external stages are the necessary component                                                                                                                                                                                                                                                                                                           
that enables this functionality. This feature enhances the efficiency of accessing external files via                                                                                                                                                                                                                                                                                                  
Snowflake and prevents data inconsistencies due to outdated metadata.                                                                                                                                                                                                                                                                                                                                  
For further reading, refer to the following Snowflake documentation:                                                                                                                                                                                                                                                                                                                                   
Directory Tables: https://docs.snowflake.com/en/sql-reference/sql/create-directory-table                                                                                                                                                                                                                                                                                                               
Stages: https://docs.snowflake.com/en/sql-reference/sql/create-stage                                                                                                                                                                                                                                                                                                                                   
External Stages: https://docs.snowflake.com/en/sql-reference/sql/create-external-stage                                                                                                                                                                                                                                                                                                                 
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
A user creates a stage using the following command:                                                                                                                                                                                                                                                                                                                                                    
CREATE STAGE mystage DIRECTORY = (ENABLE = TRUE)                                                                                                                                                                                                                                                                                                                                                       
FILE_FORMAT = myformat;                                                                                                                                                                                                                                                                                                                                                                                
What will be the outcome?                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                       
A. A stage with a directory table set to automatically refresh will be created.<br>B. A stage with a directory table that has metadata that must be manually refreshed will be created.<br>C. An error will be received stating that the storage location for the stage must be identified when creating a<br>D. The command will fail to run because the name of the directory table is not specified.
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is A. A stage with a directory table set to automatically refresh will                                                                                                                                                                                                                                                                                                              
be created. Here's why:                                                                                                                                                                                                                                                                                                                                                                                
The CREATE STAGE command in Snowflake, when used with the DIRECTORY =                                                                                                                                                                                                                                                                                                                                  
(ENABLE = TRUE) option, instructs Snowflake to create a directory table associated                                                                                                                                                                                                                                                                                                                     
with the stage. A directory table maintains metadata about the files within the stage's                                                                                                                                                                                                                                                                                                                
storage location. Critically, when ENABLE = TRUE is specified, Snowflake automatically                                                                                                                                                                                                                                                                                                                 
manages this metadata, keeping it up-to-date as files are added or removed. This                                                                                                                                                                                                                                                                                                                       
eliminates the need for manual refreshing. The user did specify the FILE_FORMAT                                                                                                                                                                                                                                                                                                                        
option, which is required. While a storage location must be specified for the stage (e.g.,                                                                                                                                                                                                                                                                                                             
s3://mybucket/mypath), the question's focus is on the directory option itself, not the                                                                                                                                                                                                                                                                                                                 
stage's storage location. Options B, C and D are all incorrect based on these properties.                                                                                                                                                                                                                                                                                                              
Snowflake's documentation confirms that ENABLE = TRUE activates automatic refresh                                                                                                                                                                                                                                                                                                                      
and that no specific directory table name is required.                                                                                                                                                                                                                                                                                                                                                 
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Stages: https://docs.snowflake.com/en/sqlreference/sql/create-stage.html (Focus on the DIRECTORY parameter)                                                                                                                                                                                                                                                                 
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sqlreference/sql/create-directory-table.html (To understand the concept of directory                                                                                                                                                                                                                                        
tables)                                                                                                                                                                                                                                                                                                                                                                                                
Snowflake Documentation on Automatic Refresh of Directory Tables:                                                                                                                                                                                                                                                                                                                                      
https://docs.snowflake.com/en/sql-reference/sql/alter-stage.html#parameters (Check                                                                                                                                                                                                                                                                                                                     
parameters for the ALTER command - enable implies auto-refresh)                                                                                                                                                                                                                                                                                                                                        
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
What is the primary purpose of a directory table in Snowflake?                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                       
A. To store actual data from external stages<br>B. To automatically expire file URLs for security<br>C. To manage user privileges and access control<br>D. To store file-level metadata about data files in a stage                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is D. To store file-level metadata about data files in a stage.                                                                                                                                                                                                                                                                                                                     
Directory tables in Snowflake are specialized tables that provide a structured way to                                                                                                                                                                                                                                                                                                                  
access information about files staged in internal or external locations. Unlike regular                                                                                                                                                                                                                                                                                                                
tables that hold data rows, directory tables hold metadata. This metadata includes                                                                                                                                                                                                                                                                                                                     
crucial details like file names, sizes, last modified timestamps, and the relative path                                                                                                                                                                                                                                                                                                                
within the stage. They do not store the actual data from the files themselves. This                                                                                                                                                                                                                                                                                                                    
distinction is vital for efficient data management in cloud-based data warehousing.                                                                                                                                                                                                                                                                                                                    
Snowflake utilizes this metadata to streamline operations like data loading, providing                                                                                                                                                                                                                                                                                                                 
cost-effective access to file information without necessitating full file reads.                                                                                                                                                                                                                                                                                                                       
Option A is incorrect because directory tables do not hold actual data; the actual data                                                                                                                                                                                                                                                                                                                
remains in the staged files. Option B is also wrong; while Snowflake has security                                                                                                                                                                                                                                                                                                                      
measures for staged files, directory tables aren't primarily for automatic URL expiration.                                                                                                                                                                                                                                                                                                             
Option C relates to user privileges on data but directory tables primarily function with                                                                                                                                                                                                                                                                                                               
metadata, not user access.                                                                                                                                                                                                                                                                                                                                                                             
Essentially, directory tables act as an index for your staged files. Instead of scanningthrough entire file sets, they allow you to quickly locate files based on metadata,                                                                                                                                                                                                                            
improving data processing efficiency. This separation of metadata from actual data is a                                                                                                                                                                                                                                                                                                                
common practice in cloud computing for enhancing performance and resource                                                                                                                                                                                                                                                                                                                              
utilization.                                                                                                                                                                                                                                                                                                                                                                                           
For further research:                                                                                                                                                                                                                                                                                                                                                                                  
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sqlreference/sql/create-directory-table                                                                                                                                                                                                                                                                                     
Snowflake Blog on Directory Tables: https://www.snowflake.com/blog/unleash-thepower-of-directory-tables/                                                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
What is a directory table in Snowflake?                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                       
A. A separate database object that is used to store file-level metadata.<br>B. An object layered on a stage that is used to store file-level metadata.<br>C. A database object with grantable privileges for unstructured data tasks.<br>D. A Snowflake table specifically designed for storing unstructured files.                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is B. An object layered on a stage that is used to store file-level                                                                                                                                                                                                                                                                                                                 
metadata.                                                                                                                                                                                                                                                                                                                                                                                              
Directory tables in Snowflake are not standalone database objects like tables or views,                                                                                                                                                                                                                                                                                                                
nor are they dedicated storage for the unstructured files themselves. Instead, they act                                                                                                                                                                                                                                                                                                                
as a metadata layer built on top of an existing Snowflake stage. A stage, which can point                                                                                                                                                                                                                                                                                                              
to external cloud storage locations like AWS S3 or Azure Blob Storage, holds the actual                                                                                                                                                                                                                                                                                                                
unstructured data files. When a directory table is created against a stage, Snowflake                                                                                                                                                                                                                                                                                                                  
automatically scans the files present in that stage's location and extracts key file                                                                                                                                                                                                                                                                                                                   
metadata information such as file name, last modified timestamp, file size, and entity tag                                                                                                                                                                                                                                                                                                             
(ETag). This extracted metadata is then stored and made queryable through the                                                                                                                                                                                                                                                                                                                          
directory table, which facilitates efficient data discovery and processing workflows.                                                                                                                                                                                                                                                                                                                  
Therefore, the directory table provides a structured, queryable view of the unstructured                                                                                                                                                                                                                                                                                                               
data files located in the stage, without needing to load the actual file contents into                                                                                                                                                                                                                                                                                                                 
Snowflake tables. This approach is crucial for managing and utilizing large volumes of                                                                                                                                                                                                                                                                                                                 
unstructured data. Options A, C, and D are incorrect as they either misrepresent the                                                                                                                                                                                                                                                                                                                   
nature of a directory table or its purpose.                                                                                                                                                                                                                                                                                                                                                            
Authoritative Links for Further Research:                                                                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Directory Tables: https://docs.snowflake.com/en/sqlreference/sql/create-directory-table                                                                                                                                                                                                                                                                                     
Snowflake Blog Post on Directory Tables: (Search Snowflake's official blog for recent                                                                                                                                                                                                                                                                                                                  
articles on directory tables to get practical examples and usage scenarios)                                                                                                                                                                                                                                                                                                                            
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
What can be used to identify the database, schema, stage, and file path to a set of files, and to allow a role that has                                                                                                                                                                                                                                                                                
sufficient privileges on the stage to access the files?                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                       
A. A scoped URL<br>B. A file URL<br>C. A pre-signed URL<br>D. A directory table                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The correct answer is B. A file URL. Here's why:                                                                                                                                                                                                                                                                                                                                                       
A file URL, in the context of Snowflake, directly specifies the location of files within a                                                                                                                                                                                                                                                                                                             
stage. It encompasses the database, schema, stage name, and the file path within that                                                                                                                                                                                                                                                                                                                  
stage. This complete path allows Snowflake to uniquely identify the desired files. By                                                                                                                                                                                                                                                                                                                  
granting a role the necessary privileges on the stage (like READ or WRITE), that role can                                                                                                                                                                                                                                                                                                              
then use a file URL to access and interact with the specified files.                                                                                                                                                                                                                                                                                                                                   
Unlike a scoped URL, which may refer to a more abstract or resource within a system, a                                                                                                                                                                                                                                                                                                                 
file URL is specific to files. A pre-signed URL is primarily used for temporary, direct                                                                                                                                                                                                                                                                                                                
access to cloud storage objects, not for referencing files within a Snowflake stage                                                                                                                                                                                                                                                                                                                    
context. Directory tables, while providing metadata about files within a stage, don’t                                                                                                                                                                                                                                                                                                                  
directly offer a way to reference and access specific files themselves. They act more as                                                                                                                                                                                                                                                                                                               
an index for the files. File URLs are the standard way Snowflake accesses files on                                                                                                                                                                                                                                                                                                                     
stages. In summary, a file URL is the fundamental mechanism Snowflake employs to                                                                                                                                                                                                                                                                                                                       
pinpoint and enable access to files within a stage for authorized roles.                                                                                                                                                                                                                                                                                                                               
Authoritative Links for further research:                                                                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Stages: https://docs.snowflake.com/en/user-guide/dataload-stages                                                                                                                                                                                                                                                                                                            
Snowflake Documentation on File URLs: https://docs.snowflake.com/en/sqlreference/external-functions-file-urls                                                                                                                                                                                                                                                                                          
Snowflake Documentation on Access Control: https://docs.snowflake.com/en/userguide/security-access-control                                                                                                                                                                                                                                                                                             
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
---                                                                                                                                                                                                                                                                                                                                                                                                    
Which table type is used in the file processing pipeline to process unstructured data in Snowflake?                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                       
A. Temporary<br>B. Directory<br>C. Standard<br>D. Transient                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                       
<details>                                                                                                                                                                                                                                                                                                                                                                                              
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                       
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                       
The Correct answer is ["B"]                                                                                                                                                                                                                                                                                                                                                                            
</details>                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                       
