# Clustering Keys                                                                                                                                                                                                                                                                                                                                                                                                                    
Snowflake provides a mechanism for its customers to override its natural clustering algorithms. This method is:                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Micro-partitions<br>B. Clustering keys<br>C. Key partitions<br>D. Clustered partitions                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. Clustering keys. Snowflake's natural data organization involves micro-partitions,                                                                                                                                                                                                                                                                                                                           
which are small, immutable storage units. While Snowflake automatically optimizes these micro-partitions for                                                                                                                                                                                                                                                                                                                         
performance, users have the option to exert more control using clustering keys. Clustering keys are columns                                                                                                                                                                                                                                                                                                                          
or expressions specified on a table that Snowflake uses to reorganize data within micro-partitions, physically                                                                                                                                                                                                                                                                                                                       
co-locating rows with similar values. This custom clustering enables more efficient data retrieval and reduces                                                                                                                                                                                                                                                                                                                       
the amount of data that needs to be scanned for specific queries. This is fundamentally a performance                                                                                                                                                                                                                                                                                                                                
optimization technique, overriding Snowflake's default clustering based on insertion order. Options A, C, and                                                                                                                                                                                                                                                                                                                        
D are incorrect. Micro-partitions are the underlying storage method, not a user-defined override mechanism.                                                                                                                                                                                                                                                                                                                          
Key partitions and clustered partitions are not standard Snowflake terms. Clustering keys offer users a way to                                                                                                                                                                                                                                                                                                                       
tailor Snowflake's data layout to their unique query patterns, allowing for targeted data optimization and                                                                                                                                                                                                                                                                                                                           
improved performance.                                                                                                                                                                                                                                                                                                                                                                                                                
For further information, refer to the official Snowflake documentation:                                                                                                                                                                                                                                                                                                                                                              
Understanding Snowflake Table Structures                                                                                                                                                                                                                                                                                                                                                                                             
Clustering Keys                                                                                                                                                                                                                                                                                                                                                                                                                      
Automatic Clustering                                                                                                                                                                                                                                                                                                                                                                                                                 
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which statement best describes `clustering`?                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Clustering represents the way data is grouped together and stored within Snowflake's micro-partitions<br>B. The database administrator must define the clustering methodology for each Snowflake table<br>C. The clustering key must be included on the COPY command when loading data into Snowflake<br>D. Clustering can be disabled within a Snowflake account                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. Clustering in Snowflake refers to how data is physically organized within micropartitions, which are the fundamental storage units. Micro-partitions automatically divide tables and store                                                                                                                                                                                                                  
them internally. Snowflake automatically manages the creation and maintenance of micro-partitions. Option A                                                                                                                                                                                                                                                                                                                          
accurately describes this core functionality. Clustering, in the Snowflake context, aims to optimize query                                                                                                                                                                                                                                                                                                                           
performance by grouping related data together. When a query filters based on clustering key columns,                                                                                                                                                                                                                                                                                                                                 
Snowflake can efficiently retrieve only the relevant micro-partitions, reducing the amount of data scanned.                                                                                                                                                                                                                                                                                                                          
Option B is incorrect because while you can define a clustering key on a table, Snowflake automatically                                                                                                                                                                                                                                                                                                                              
manages the organization of data within micro-partitions. It does not require that database administrator to                                                                                                                                                                                                                                                                                                                         
design a manual clustering method for each table. Option C is false; the clustering key is a metadata concept                                                                                                                                                                                                                                                                                                                        
associated with the table definition and is not directly involved in the COPY command. The COPY command                                                                                                                                                                                                                                                                                                                              
simply loads data into the table. Option D is incorrect as clustering is a core mechanism and cannot be                                                                                                                                                                                                                                                                                                                              
disabled at the account level.                                                                                                                                                                                                                                                                                                                                                                                                       
Therefore, the best description of clustering in Snowflake is found in option A: how data is organized and                                                                                                                                                                                                                                                                                                                           
grouped within Snowflake’s micro-partitions, enabling efficient querying.                                                                                                                                                                                                                                                                                                                                                            
For further research, explore the official Snowflake documentation:Clustering KeysMicro-partitions                                                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
True or False: It is best practice to define a clustering key on every table.                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. True<br>B. False                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The statement "It is best practice to define a clustering key on every table" is false. While clustering keys are                                                                                                                                                                                                                                                                                                                    
a powerful feature in Snowflake for improving query performance, they are not universally beneficial.                                                                                                                                                                                                                                                                                                                                
Applying a clustering key to every table can lead to unnecessary overhead and costs, especially for small or                                                                                                                                                                                                                                                                                                                         
infrequently queried tables.                                                                                                                                                                                                                                                                                                                                                                                                         
Clustering keys help organize data within a table's micro-partitions based on specific columns. This                                                                                                                                                                                                                                                                                                                                 
organization allows Snowflake to prune more data during queries, thereby reducing scan times and improving                                                                                                                                                                                                                                                                                                                           
efficiency. However, the process of reclustering, which occurs when data is added or changed, consumes                                                                                                                                                                                                                                                                                                                               
compute resources and incurs costs. On tables that are not frequently accessed or are small enough that full                                                                                                                                                                                                                                                                                                                         
scans are not overly costly, the expense of clustering outweighs its benefits.                                                                                                                                                                                                                                                                                                                                                       
Furthermore, choosing an effective clustering key requires careful consideration of common query patterns. A                                                                                                                                                                                                                                                                                                                         
poorly chosen clustering key can be as detrimental as having no clustering key at all, potentially even                                                                                                                                                                                                                                                                                                                              
hindering performance. Therefore, it's crucial to analyze table access patterns and query needs before                                                                                                                                                                                                                                                                                                                               
deciding to implement clustering. A good rule of thumb is to only define a clustering key on tables where it                                                                                                                                                                                                                                                                                                                         
significantly improves performance in the majority of frequent queries. This approach allows for optimized                                                                                                                                                                                                                                                                                                                           
resource allocation and prevents excessive processing and storage costs associated with unnecessary                                                                                                                                                                                                                                                                                                                                  
clustering. Therefore, judiciously applying clustering only where there’s demonstrable performance gains is a                                                                                                                                                                                                                                                                                                                        
crucial best practice.                                                                                                                                                                                                                                                                                                                                                                                                               
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering Keys: https://docs.snowflake.com/en/user-guide/tables-clusteringkeys.htmlSnowflake Blog on Clustering: https://www.snowflake.com/blog/clustering-in-snowflake-an-intro/                                                                                                                                                                                                                        
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
As a best practice, clustering keys should only be defined on tables of which minimum size?                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Multi-Kilobyte (KB) Range<br>B. Multi-Megabyte (MB) Range<br>C. Multi-Gigabyte (GB) Range<br>D. Multi-Terabyte (TB) Range                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D, Multi-Terabyte (TB) Range. Snowflake clustering keys are designed to optimize query                                                                                                                                                                                                                                                                                                                         
performance on large tables by physically organizing data based on the chosen key(s). This organization                                                                                                                                                                                                                                                                                                                              
allows Snowflake to efficiently prune data during query execution, significantly reducing the amount of data                                                                                                                                                                                                                                                                                                                         
that needs to be scanned. Implementing clustering on smaller tables, such as those in the KB, MB, or even GB                                                                                                                                                                                                                                                                                                                         
range, might not yield substantial performance benefits and can potentially introduce unnecessary overhead.                                                                                                                                                                                                                                                                                                                          
The overhead comes from the initial clustering operation itself and the ongoing maintenance required as data                                                                                                                                                                                                                                                                                                                         
is added or modified. Snowflake automatically performs micro-partition pruning based on metadata, and this                                                                                                                                                                                                                                                                                                                           
built-in feature is typically sufficient for smaller tables without needing explicit clustering. For tables in the                                                                                                                                                                                                                                                                                                                   
TB range and beyond, however, the performance gains from clustering become more pronounced, as the                                                                                                                                                                                                                                                                                                                                   
potential for data pruning becomes significantly larger. When dealing with very large tables, the savings from                                                                                                                                                                                                                                                                                                                       
scanning a fraction of the data can be dramatic, leading to faster query execution and lower compute costs. In                                                                                                                                                                                                                                                                                                                       
essence, clustering is a resource-intensive operation, and its benefits only outweigh the cost when working                                                                                                                                                                                                                                                                                                                          
with massive datasets where the impact of data pruning is substantial. It's a matter of cost-benefit analysiswhere the cost of maintaining the clustering outweighs any benefit for smaller data volumes.                                                                                                                                                                                                                            
Further information can be found in the official Snowflake documentation:                                                                                                                                                                                                                                                                                                                                                            
Understanding Clustering: This link provides an overview of clustering keys, how they work and when it's most                                                                                                                                                                                                                                                                                                                        
effective to use them.                                                                                                                                                                                                                                                                                                                                                                                                               
Clustering Strategies: This provides information on optimal strategies for choosing and setting clustering                                                                                                                                                                                                                                                                                                                           
keys including data volumes.                                                                                                                                                                                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
True or False: You can define multiple columns within a clustering key on a table.                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. True<br>B. False                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The statement that you can define multiple columns within a clustering key on a table in Snowflake is True.                                                                                                                                                                                                                                                                                                                          
Clustering keys are used to define how data within a table should be physically organized on disk. This                                                                                                                                                                                                                                                                                                                              
organization allows Snowflake to prune data effectively during query execution, thus significantly improving                                                                                                                                                                                                                                                                                                                         
query performance, especially on large tables. While a clustering key can consist of a single column, it's                                                                                                                                                                                                                                                                                                                           
common and often beneficial to use multiple columns. These multiple columns are considered together to                                                                                                                                                                                                                                                                                                                               
determine the optimal physical placement of the data. Snowflake's clustering strategy utilizes the order of                                                                                                                                                                                                                                                                                                                          
the columns in the clustering key, with the first column being the most significant for organization, followed                                                                                                                                                                                                                                                                                                                       
by the subsequent columns. Utilizing multiple columns in a clustering key provides finer-grained data sorting.                                                                                                                                                                                                                                                                                                                       
When a query's WHERE clause includes multiple columns matching those in the clustering key, Snowflake                                                                                                                                                                                                                                                                                                                                
can perform efficient data skipping on micro-partitions. The choice of clustering key columns should be based                                                                                                                                                                                                                                                                                                                        
on the access patterns of the data, considering frequently filtered columns. Choosing columns that correlatewell and are commonly used together in queries can greatly improve performance. There is no technical                                                                                                                                                                                                                    
limitation preventing a user from defining more than one column within the clustering key of a Snowflake                                                                                                                                                                                                                                                                                                                             
table; it's a feature deliberately designed to enhance query performance.                                                                                                                                                                                                                                                                                                                                                            
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering Keys: https://docs.snowflake.com/en/user-guide/tables-clusteringkeys                                                                                                                                                                                                                                                                                                                           
Snowflake Documentation on Understanding Clustering: https://docs.snowflake.com/en/user-guide/tablesclustering                                                                                                                                                                                                                                                                                                                       
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What feature can be used to reorganize a very large table on one or more columns?                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Micro-partitions<br>B. Clustering keys<br>C. Key partitions<br>D. Clustered partitions                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. Clustering keys. Clustering keys in Snowflake are explicitly designed for                                                                                                                                                                                                                                                                                                                                   
reorganizing data within a table to optimize query performance, particularly on large datasets. When you                                                                                                                                                                                                                                                                                                                             
define a clustering key on a table, Snowflake automatically rearranges the micro-partitions internally based                                                                                                                                                                                                                                                                                                                         
on the values in the specified columns. This means that data with similar values in the clustering key columns                                                                                                                                                                                                                                                                                                                       
will be grouped together in the same micro-partitions. This colocation reduces the amount of data that needs                                                                                                                                                                                                                                                                                                                         
to be scanned during queries, leading to significant performance improvements. By physically organizing the                                                                                                                                                                                                                                                                                                                          
data based on the clustering key, Snowflake enhances data retrieval efficiency, particularly when filters or                                                                                                                                                                                                                                                                                                                         
joins use the clustering columns. Option A, Micro-partitions, are the fundamental units of storage, but they are                                                                                                                                                                                                                                                                                                                     
automatically managed by Snowflake and users don't have direct control over their structure. Option C, Key                                                                                                                                                                                                                                                                                                                           
partitions, and D, Clustered partitions, are not standard Snowflake terminologies or features. They are often                                                                                                                                                                                                                                                                                                                        
associated with concepts used in other data warehouse systems. Only clustering keys specifically serve to                                                                                                                                                                                                                                                                                                                            
reorganise a table based on specific columns in Snowflake. Therefore, while micro-partitions are the basic                                                                                                                                                                                                                                                                                                                           
building blocks, the clustering key is the feature that provides the reorganization capability for optimized                                                                                                                                                                                                                                                                                                                         
performance.                                                                                                                                                                                                                                                                                                                                                                                                                         
Snowflake ClusteringUnderstanding Micro-partitions                                                                                                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
A clustering key was defined on a table, but it is no longer needed.                                                                                                                                                                                                                                                                                                                                                                 
How can the key be removed?                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. ALTER TABLE PURGE CLUSTERING KEY<br>B. ALTER TABLE DELETE CLUSTERING KEY<br>C. ALTER TABLE DROP CLUSTERING KEY<br>D. ALTER TABLE REMOVE CLUSTERING KEY                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>C</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
C. ALTER TABLE DROP CLUSTERING KEY.                                                                                                                                                                                                                                                                                                                                                                                                  
In Snowflake, a clustering key is used to improve query performance by organizing data within micropartitions. If the clustering key is no longer needed, it can be removed using the ALTER TABLE DROP                                                                                                                                                                                                                               
CLUSTERING KEY command.                                                                                                                                                                                                                                                                                                                                                                                                              
Syntax:                                                                                                                                                                                                                                                                                                                                                                                                                              
sql                                                                                                                                                                                                                                                                                                                                                                                                                                  
Copy                                                                                                                                                                                                                                                                                                                                                                                                                                 
Edit                                                                                                                                                                                                                                                                                                                                                                                                                                 
ALTER TABLE table_name DROP CLUSTERING KEY;                                                                                                                                                                                                                                                                                                                                                                                          
This command removes the clustering key but does not automatically recluster existing data. Future data                                                                                                                                                                                                                                                                                                                              
loads will no longer follow the removed key for clustering.                                                                                                                                                                                                                                                                                                                                                                          
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What is a core benefit of clustering?                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. To guarantee uniquely identifiable records in the database<br>B. To increase scan efficiency in queries by improving pruning<br>C. To improve performance by creating a separate file for point lookups<br>D. To provide data redundancy by duplicating micro-partitions                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. To increase scan efficiency in queries by improving pruning. Clustering in Snowflake                                                                                                                                                                                                                                                                                                                        
focuses on logically grouping similar data within micro-partitions, not on data uniqueness or redundancy.                                                                                                                                                                                                                                                                                                                            
Option A is incorrect because unique identifiers are typically enforced through constraints, not clustering.                                                                                                                                                                                                                                                                                                                         
Option D, regarding redundancy, is also incorrect as Snowflake handles data redundancy and high availability                                                                                                                                                                                                                                                                                                                         
at a lower level, irrespective of clustering. Option C is misleading; while point lookups benefit from a wellclustered table, Snowflake doesn't create separate files for this.                                                                                                                                                                                                                                                      
Clustering's primary goal is to minimize the amount of data scanned during query execution. By ordering data                                                                                                                                                                                                                                                                                                                         
based on cluster keys, Snowflake can intelligently prune micro-partitions, meaning it can skip those that do                                                                                                                                                                                                                                                                                                                         
not contain relevant data for a given query. This leads to significant performance improvements, especially for                                                                                                                                                                                                                                                                                                                      
queries with filters on clustered columns. When data is well-clustered, queries retrieve only the necessary                                                                                                                                                                                                                                                                                                                          
data, dramatically reducing I/O operations and execution times. Without clustering, queries might scan                                                                                                                                                                                                                                                                                                                               
unnecessary micro-partitions, slowing performance. Hence, effective clustering helps optimize queryperformance.                                                                                                                                                                                                                                                                                                                      
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering                                                                                                                                                                                                                                                                                                                                    
Snowflake Documentation on Micro-partitions: https://docs.snowflake.com/en/user-guide/tables-micropartitions                                                                                                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which of the following indicates that it may be appropriate to use a clustering key for a table? (Choose two.)                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. The table contains a column that has very low cardinality.<br>B. DML statements that are being issued against the table are blocked.<br>C. The table has a small number of micro-partitions.<br>D. Queries on the table are running slower than expected.<br>E. The clustering depth for the table is large.                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D, E</strong>                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D and E. Here's a detailed justification:                                                                                                                                                                                                                                                                                                                                                                      
D. Queries on the table are running slower than expected: This is a strong indicator for needing a clustering                                                                                                                                                                                                                                                                                                                        
key. A clustering key is designed to physically organize data in micro-partitions based on the specified key                                                                                                                                                                                                                                                                                                                         
columns. When queries run slower than expected, especially when filtering on certain columns, it often means                                                                                                                                                                                                                                                                                                                         
Snowflake is scanning a large number of micro-partitions to find the relevant data. A properly chosen                                                                                                                                                                                                                                                                                                                                
clustering key can reduce the number of micro-partitions scanned, leading to significant performance                                                                                                                                                                                                                                                                                                                                 
improvements. The goal is to arrange data that is often queried together into the same or fewer micropartitions. Without a clustering key (or with a poorly chosen one), Snowflake may need to scan almost all                                                                                                                                                                                                                       
micro-partitions even for relatively simple queries, causing performance bottlenecks.                                                                                                                                                                                                                                                                                                                                                
E. The clustering depth for the table is large: Clustering depth measures how well the data within the table is                                                                                                                                                                                                                                                                                                                      
clustered based on the clustering key (or lack thereof). A large clustering depth signifies that the data is                                                                                                                                                                                                                                                                                                                         
poorly clustered, meaning the same values within the clustering key are spread across many micro-partitions.                                                                                                                                                                                                                                                                                                                         
This increases the number of micro-partitions Snowflake must scan during queries, as it can't efficiently                                                                                                                                                                                                                                                                                                                            
prune unnecessary ones. Introducing or refining a clustering key aims to minimize the clustering depth,                                                                                                                                                                                                                                                                                                                              
thereby boosting query performance.                                                                                                                                                                                                                                                                                                                                                                                                  
Here's why the other options are incorrect:                                                                                                                                                                                                                                                                                                                                                                                          
A. The table contains a column that has very low cardinality: Low cardinality columns are generally not good                                                                                                                                                                                                                                                                                                                         
candidates for clustering keys. Clustering works best when there's sufficient diversity in the clustering key                                                                                                                                                                                                                                                                                                                        
values to effectively distribute data across micro-partitions. Low cardinality can lead to uneven data                                                                                                                                                                                                                                                                                                                               
distribution and inefficient pruning.                                                                                                                                                                                                                                                                                                                                                                                                
B. DML statements that are being issued against the table are blocked: While blocking can be a                                                                                                                                                                                                                                                                                                                                       
performance issue, it's usually related to concurrency control (e.g., transactions and locking) and not directly                                                                                                                                                                                                                                                                                                                     
addressed by clustering keys. Clustering keys primarily optimize query performance.                                                                                                                                                                                                                                                                                                                                                  
C. The table has a small number of micro-partitions: A small number of micro-partitions generally doesn't                                                                                                                                                                                                                                                                                                                            
necessitate a clustering key. Clustering is most beneficial when dealing with tables containing a large number                                                                                                                                                                                                                                                                                                                       
of micro-partitions, where the potential for pruning and optimization is significant. Tables with a small numberof micro-partitions are already relatively efficient.                                                                                                                                                                                                                                                                
In summary, a clustering key is used to improve query performance by physically organizing the data within                                                                                                                                                                                                                                                                                                                           
micro-partitions. Slow query performance and a high clustering depth suggest the data is not efficiently                                                                                                                                                                                                                                                                                                                             
organized and could benefit from a clustering key.                                                                                                                                                                                                                                                                                                                                                                                   
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering-keys.html                                                                                                                                                                                                                                                                                                                                           
Understanding Clustering Depth: https://docs.snowflake.com/en/user-guide/tables-clusteringkeys.html#understanding-clustering-depth                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which of the following describes how clustering keys work in Snowflake?                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Clustering keys update the micro-partitions in place with a full sort, and impact the DML operations.<br>B. Clustering keys sort the designated columns over time, without blocking DML operations.<br>C. Clustering keys create a distributed, parallel data structure of pointers to a table's rows and columns.<br>D. Clustering keys establish a hashed key on each node of a virtual warehouse to optimize joins at run-time.
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. Clustering keys sort the designated columns over time, without blocking DML                                                                                                                                                                                                                                                                                                                                 
operations.                                                                                                                                                                                                                                                                                                                                                                                                                          
Clustering keys in Snowflake are used to organize data within a table's micro-partitions. They don't directly                                                                                                                                                                                                                                                                                                                        
affect the structure of micro-partitions themselves. Instead, Snowflake leverages these keys to reorganize                                                                                                                                                                                                                                                                                                                           
data within the existing micro-partitions during a background process. This reorganization aims to achieve                                                                                                                                                                                                                                                                                                                           
optimal data locality based on the chosen clustering columns. This process is asynchronous and designed to                                                                                                                                                                                                                                                                                                                           
minimize any impact on ongoing Data Manipulation Language (DML) operations. DML operations such as                                                                                                                                                                                                                                                                                                                                   
INSERT, UPDATE, and DELETE are still allowed while clustering occurs; they are not blocked by the clustering                                                                                                                                                                                                                                                                                                                         
process.                                                                                                                                                                                                                                                                                                                                                                                                                             
Clustering does not modify micro-partition metadata in place with full sorting, as stated in option A. Also, it                                                                                                                                                                                                                                                                                                                      
doesn’t involve a distributed data structure of pointers (option C) or hashed keys on virtual warehouse nodes                                                                                                                                                                                                                                                                                                                        
(option D). Those aspects are more aligned with other optimization techniques. Clustering focuses on ordering                                                                                                                                                                                                                                                                                                                        
data within the physical storage managed by Snowflake, not the virtual warehouse itself. In essence, choosing                                                                                                                                                                                                                                                                                                                        
an effective clustering key improves query performance by reducing the number of micro-partitions scanned                                                                                                                                                                                                                                                                                                                            
when filtering on those clustered columns. The system monitors the data and automatically re-clusters as                                                                                                                                                                                                                                                                                                                             
needed, based on the defined keys. This maintenance ensures data remains optimized for efficient querying                                                                                                                                                                                                                                                                                                                            
over time.                                                                                                                                                                                                                                                                                                                                                                                                                           
Here are authoritative links for further research:                                                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Clustering Keys: https://docs.snowflake.com/en/user-guide/tables-clusteringkeys.html                                                                                                                                                                                                                                                                                                                      
Snowflake Blog Post on Automatic Clustering: https://www.snowflake.com/blog/automatic-clusteringmaking-query-performance-simpler/                                                                                                                                                                                                                                                                                                    
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which Snowflake technique can be used to improve the performance of a query?                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Clustering<br>B. Indexing<br>C. Fragmenting<br>D. Using INDEX_HINTS                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. Clustering.                                                                                                                                                                                                                                                                                                                                                                                                 
Here's why: Clustering in Snowflake is a crucial performance optimization technique. It involves organizing                                                                                                                                                                                                                                                                                                                          
data within a table based on one or more columns, the clustering keys. When queries filter on these clustered                                                                                                                                                                                                                                                                                                                        
columns, Snowflake can efficiently prune entire micro-partitions that do not contain relevant data. This                                                                                                                                                                                                                                                                                                                             
significantly reduces the amount of data scanned, leading to faster query execution and lower costs.                                                                                                                                                                                                                                                                                                                                 
B. Indexing is not supported directly in Snowflake. Snowflake's architecture is designed to automatically                                                                                                                                                                                                                                                                                                                            
optimize query performance without the need for manual index creation. It utilizes its metadata layer and                                                                                                                                                                                                                                                                                                                            
micro-partitioning structure for this purpose. Therefore, creating indexes like in traditional databases isn't                                                                                                                                                                                                                                                                                                                       
possible.                                                                                                                                                                                                                                                                                                                                                                                                                            
C. Fragmenting (or data sharding) is a data partitioning technique commonly used in distributed databases.                                                                                                                                                                                                                                                                                                                           
While Snowflake distributes data across multiple nodes, the data management and distribution are handled                                                                                                                                                                                                                                                                                                                             
transparently by Snowflake's engine. Users don't directly control the fragmentation or sharding process.                                                                                                                                                                                                                                                                                                                             
D. INDEX_HINTS are hints that can be given to the database to encourage it to use an index. Since Indexes are                                                                                                                                                                                                                                                                                                                        
not supported in Snowflake, this is not possible.                                                                                                                                                                                                                                                                                                                                                                                    
Clustering provides a way to pre-sort and organize data based on frequently queried columns, enhancing                                                                                                                                                                                                                                                                                                                               
query performance by reducing the scan area. Snowflake automatically maintains the cluster based on the                                                                                                                                                                                                                                                                                                                              
selected clustering keys. While re-clustering consumes compute credits, the improved query performance                                                                                                                                                                                                                                                                                                                               
often offsets these costs for frequently used queries on large datasets.                                                                                                                                                                                                                                                                                                                                                             
For further reading on Snowflake Clustering, you can refer to the official Snowflake documentation:                                                                                                                                                                                                                                                                                                                                  
Snowflake Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering.html                                                                                                                                                                                                                                                                                                                                                
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What happens to the underlying table data when a CLUSTER BY clause is added to a Snowflake table?                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Data is hashed by the cluster key to facilitate fast searches for common data values<br>B. Larger micro-partitions are created for common data values to reduce the number of partitions that must be<br>C. Smaller micro-partitions are created for common data values to allow for more parallelism<br>D. Data may be colocated by the cluster key within the micro-partitions to improve pruning performance                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D: Data may be colocated by the cluster key within the micro-partitions to improve                                                                                                                                                                                                                                                                                                                             
pruning performance.                                                                                                                                                                                                                                                                                                                                                                                                                 
Here's a detailed explanation:                                                                                                                                                                                                                                                                                                                                                                                                       
Snowflake tables are internally structured as micro-partitions, immutable units of storage. When a CLUSTER                                                                                                                                                                                                                                                                                                                           
BY clause is added to a table, it doesn't fundamentally alter the micro-partition structure or create new ones.                                                                                                                                                                                                                                                                                                                      
Instead, clustering aims to influence how data is organized within these existing micro-partitions as new data                                                                                                                                                                                                                                                                                                                       
is ingested or when clustering is explicitly initiated via a RECLUSTER operation.                                                                                                                                                                                                                                                                                                                                                    
The CLUSTER BY key defines the attributes used to group similar data together within a micro-partition. This                                                                                                                                                                                                                                                                                                                         
co-location of data based on the cluster key is not about creating new or changing the sizes of micropartitions as suggested by options B and C, instead, it focuses on optimizing data layout to improve pruning.                                                                                                                                                                                                                   
Pruning is a crucial performance optimization where Snowflake avoids scanning unnecessary micro-partitionsduring query execution. With a well-defined cluster key, if a query filters on the cluster key column,                                                                                                                                                                                                                     
Snowflake can effectively use the metadata of the micro-partitions to bypass partitions that do not contain                                                                                                                                                                                                                                                                                                                          
the requested data, greatly reducing the amount of data that needs to be scanned.                                                                                                                                                                                                                                                                                                                                                    
Option A, suggesting data hashing, is inaccurate. While Snowflake utilizes hashing internally for efficient data                                                                                                                                                                                                                                                                                                                     
lookups, the CLUSTER BY clause doesn't primarily focus on hashing for search purposes. Rather, it aims to                                                                                                                                                                                                                                                                                                                            
logically organize data based on attribute values.                                                                                                                                                                                                                                                                                                                                                                                   
Therefore, CLUSTER BY achieves performance gains by strategically ordering data within micro-partitions,                                                                                                                                                                                                                                                                                                                             
facilitating efficient pruning and thus accelerating query execution. The main goal is to improve pruning, not                                                                                                                                                                                                                                                                                                                       
to create larger or smaller micro-partitions or directly hash data.                                                                                                                                                                                                                                                                                                                                                                  
Supporting Links:                                                                                                                                                                                                                                                                                                                                                                                                                    
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering.html                                                                                                                                                                                                                                                                                                                               
Understanding Micro-Partitions: https://docs.snowflake.com/en/user-guide/tables-partitions.html                                                                                                                                                                                                                                                                                                                                      
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which feature allows a user the ability to control the organization of data in a micro-partition?                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Range Partitioning<br>B. Search Optimization Service<br>C. Automatic Clustering<br>D. Horizontal Partitioning                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>C</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is C. Automatic Clustering. Automatic Clustering in Snowflake directly controls the                                                                                                                                                                                                                                                                                                                               
organization of data within micro-partitions. Snowflake stores data in these immutable micro-partitions, which                                                                                                                                                                                                                                                                                                                       
are optimized for efficient query performance. Automatic Clustering analyzes the data access patterns of a                                                                                                                                                                                                                                                                                                                           
table and dynamically re-clusters the data within micro-partitions based on specified clustering keys. This reclustering improves data locality, meaning related data is stored together, thereby reducing the amount of                                                                                                                                                                                                             
data scanned during queries. Options A, Range Partitioning, and D, Horizontal Partitioning, are not directly                                                                                                                                                                                                                                                                                                                         
features within Snowflake for organizing data at the micro-partition level. Range partitioning is a common                                                                                                                                                                                                                                                                                                                           
technique in traditional database systems, dividing tables based on column values, and horizontal partitioning                                                                                                                                                                                                                                                                                                                       
is a common concept for distributed databases, but neither applies to Snowflake's internal micro-partition                                                                                                                                                                                                                                                                                                                           
management. Option B, Search Optimization Service, focuses on accelerating point lookups rather than the                                                                                                                                                                                                                                                                                                                             
physical organization of data. While it improves performance, it works in conjunction with the clustered data                                                                                                                                                                                                                                                                                                                        
but does not manage micro-partition organization itself. Therefore, Automatic Clustering is the specific                                                                                                                                                                                                                                                                                                                             
Snowflake feature that allows users to influence data organization within micro-partitions, improving query                                                                                                                                                                                                                                                                                                                          
performance through better data locality.                                                                                                                                                                                                                                                                                                                                                                                            
Snowflake Documentation on Automatic Clustering                                                                                                                                                                                                                                                                                                                                                                                      
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
If a Snowflake user decides a table should be clustered, what should be used as the cluster key?                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. The columns that are queried in the select clause.<br>B. The columns with very high cardinality.<br>C. The columns with many different values.<br>D. The columns most actively used in the select filters.                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D: The columns most actively used in the select filters. Snowflake clustering is                                                                                                                                                                                                                                                                                                                               
primarily about optimizing query performance by physically organizing data on disk based on a cluster key.                                                                                                                                                                                                                                                                                                                           
This organization allows Snowflake to efficiently prune data partitions and scan only the necessary data                                                                                                                                                                                                                                                                                                                             
blocks during query execution. Option A, the columns in the SELECT clause, is irrelevant for clustering, as                                                                                                                                                                                                                                                                                                                          
clustering affects the physical storage of data, not its projection. Option B, columns with high cardinality,                                                                                                                                                                                                                                                                                                                        
might lead to excessive micro-partitioning and inefficient pruning, as there's less overlap in the values,                                                                                                                                                                                                                                                                                                                           
reducing the power of clustering. Option C is similar to B and also does not reflect the optimal strategy for                                                                                                                                                                                                                                                                                                                        
choosing a cluster key. Instead, focusing on frequently used filter columns (Option D) allows Snowflake to                                                                                                                                                                                                                                                                                                                           
quickly eliminate irrelevant data during query execution. Choosing the filter columns as the clustering key                                                                                                                                                                                                                                                                                                                          
effectively means that data with similar values in those columns are stored together, allowing Snowflake toskip large chunks of data when those filter criteria are used. In essence, clustering strategically aligns data                                                                                                                                                                                                           
with how it's being queried. For more details about clustering in Snowflake, see:                                                                                                                                                                                                                                                                                                                                                    
https://docs.snowflake.com/en/user-guide/tables-clustering                                                                                                                                                                                                                                                                                                                                                                           
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which statement MOST accurately describes clustering in Snowflake?                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. The database ACCOUNTADMIN must define the clustering methodology for each Snowflake table.<br>B. Clustering is the way data is grouped together and stored within Snowflake micro-partitions.<br>C. The clustering key must be included in the COPY command when loading data into Snowflake.<br>D. Clustering can be disabled within a Snowflake account.                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
Here's a detailed justification for why option B is the most accurate description of clustering in Snowflake:                                                                                                                                                                                                                                                                                                                        
Snowflake's architecture centers around micro-partitions, which are small, contiguous units of storage,                                                                                                                                                                                                                                                                                                                              
typically ranging from 50 MB to 500 MB in size. Clustering directly impacts how data is organized and stored                                                                                                                                                                                                                                                                                                                         
within these micro-partitions. When a table is clustered, Snowflake attempts to organize data within the                                                                                                                                                                                                                                                                                                                             
micro-partitions based on the clustering key. This organization aims to group similar data together within the                                                                                                                                                                                                                                                                                                                       
same micro-partitions. Consequently, query performance improves significantly because Snowflake can                                                                                                                                                                                                                                                                                                                                  
prune (skip) large numbers of micro-partitions that don't contain relevant data for a given query.Option A is incorrect because, while ACCOUNTADMIN has the highest privileges, defining clustering keys isn't                                                                                                                                                                                                                       
exclusively limited to that role. Roles with sufficient privileges to modify tables can define clustering keys.                                                                                                                                                                                                                                                                                                                      
Option C is incorrect because the clustering key is defined at the table level and doesn't affect the COPY                                                                                                                                                                                                                                                                                                                           
command syntax. The COPY command is used to load data, regardless of whether the table is clustered or                                                                                                                                                                                                                                                                                                                               
not. While Snowflake offers features for data optimization and performance tuning, option D is incorrect                                                                                                                                                                                                                                                                                                                             
because it cannot be disabled at the account level. Clustering is a core feature of Snowflake's architecture.                                                                                                                                                                                                                                                                                                                        
In essence, clustering dictates the physical layout of data inside micro-partitions, thus affecting how                                                                                                                                                                                                                                                                                                                              
efficiently Snowflake can retrieve data for queries. The goal is to achieve optimal data locality, where related                                                                                                                                                                                                                                                                                                                     
data is stored close together, minimizing the number of micro-partitions that need to be scanned.                                                                                                                                                                                                                                                                                                                                    
For further research, consult the official Snowflake documentation on clustering:                                                                                                                                                                                                                                                                                                                                                    
Snowflake Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering-keys.html                                                                                                                                                                                                                                                                                                                                           
Understanding Snowflake Micro-partitions & Data Clustering:                                                                                                                                                                                                                                                                                                                                                                          
https://www.snowflake.com/blog/understanding-snowflake-micro-partitions-data-clustering/                                                                                                                                                                                                                                                                                                                                             
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which clustering indicator will show if a large table in Snowflake will benefit from explicitly defining a clustering                                                                                                                                                                                                                                                                                                                
key?                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Percentage<br>B. Depth<br>C. Ratio<br>D. Total partition count                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct clustering indicator for determining if a large Snowflake table would benefit from a clustering key                                                                                                                                                                                                                                                                                                                      
is Depth (B). Clustering in Snowflake reorganizes table data based on the specified clustering keys,                                                                                                                                                                                                                                                                                                                                 
optimizing query performance by reducing the amount of data scanned. The "depth" metric represents how                                                                                                                                                                                                                                                                                                                               
many micro-partitions are required to be scanned to return specific data, with deeper depth meaning more                                                                                                                                                                                                                                                                                                                             
micro-partitions are scanned. A high depth, often visualized as a wider, shallower distribution in clustering                                                                                                                                                                                                                                                                                                                        
analysis, indicates that data is not well-organized according to common query patterns, hence inefficient. In                                                                                                                                                                                                                                                                                                                        
such cases, queries may scan a large number of micro-partitions, even if they only need a small subset of the                                                                                                                                                                                                                                                                                                                        
data, leading to increased cost and slower performance. Therefore, a table exhibiting a high clustering depth                                                                                                                                                                                                                                                                                                                        
is a strong candidate for explicitly defining a clustering key. Conversely, a low depth, characterized by taller,                                                                                                                                                                                                                                                                                                                    
narrower distributions, implies the data is already well-clustered based on the inherent ordering and query                                                                                                                                                                                                                                                                                                                          
patterns, making a clustering key less impactful. The percentage, ratio, and total partition count metrics are                                                                                                                                                                                                                                                                                                                       
relevant to storage and partitioning but don't directly indicate the potential benefit from explicit clustering as                                                                                                                                                                                                                                                                                                                   
depth does.                                                                                                                                                                                                                                                                                                                                                                                                                          
Snowflake ClusteringUnderstanding Snowflake Clustering Depth                                                                                                                                                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What is the MINIMUM size of a table for which Snowflake recommends considering adding a clustering key?                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. 1 Kilobyte (KB)<br>B. 1 Megabyte (MB)<br>C. 1 Gigabyte (GB)<br>D. 1 Terabyte (TB)                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D, 1 Terabyte (TB), for the minimum table size where Snowflake recommends                                                                                                                                                                                                                                                                                                                                      
considering a clustering key. Clustering in Snowflake aims to optimize query performance by organizing data                                                                                                                                                                                                                                                                                                                          
based on a defined set of columns (the clustering key). This organization allows Snowflake to skip large                                                                                                                                                                                                                                                                                                                             
portions of micro-partitions during query processing. However, the benefits of clustering become significant                                                                                                                                                                                                                                                                                                                         
only when dealing with large datasets, where the performance gains from reduced data scanning outweigh                                                                                                                                                                                                                                                                                                                               
the overhead of maintaining the clustering structure.                                                                                                                                                                                                                                                                                                                                                                                
Tables smaller than a TB typically don't experience the performance issues that clustering aims to address.                                                                                                                                                                                                                                                                                                                          
For smaller datasets, Snowflake's automatic micro-partition management and query optimization are often                                                                                                                                                                                                                                                                                                                              
sufficient. Applying clustering to small tables can be counterproductive, as the benefits are minimal and it can                                                                                                                                                                                                                                                                                                                     
increase storage and maintenance costs. The overhead of clustering on small tables may outweigh any                                                                                                                                                                                                                                                                                                                                  
potential performance gains.                                                                                                                                                                                                                                                                                                                                                                                                         
Therefore, Snowflake recommends considering clustering for tables at least 1 TB in size, where data skew and                                                                                                                                                                                                                                                                                                                         
the resulting impact on performance become significant. The 1 TB threshold is a guideline; specific cases                                                                                                                                                                                                                                                                                                                            
might benefit from clustering on slightly smaller tables, but it's a good starting point. Ultimately, the decision                                                                                                                                                                                                                                                                                                                   
should be based on performance monitoring and cost analysis specific to the workload. Clustering is about                                                                                                                                                                                                                                                                                                                            
improving query speed by intelligently organizing the data when the costs of clustering outweigh the cost of asimple full scan of the data.                                                                                                                                                                                                                                                                                          
For further research, refer to the official Snowflake documentation on clustering:                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation - Clustering                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation - Understanding Clustering                                                                                                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
How can a Snowflake user improve long-running query performance?                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Reduce the virtual warehouse size.<br>B. Cluster the underlying table being queried.<br>C. Disable the result cache.<br>D. Add ORDER BY to the query.                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. Cluster the underlying table being queried. Clustering significantly improves query                                                                                                                                                                                                                                                                                                                         
performance, particularly for long-running queries, by physically organizing data on disk based on chosen                                                                                                                                                                                                                                                                                                                            
clustering keys. This organization allows Snowflake to prune unnecessary micro-partitions during query                                                                                                                                                                                                                                                                                                                               
execution, drastically reducing the amount of data scanned. By minimizing data access, Snowflake spends                                                                                                                                                                                                                                                                                                                              
less time retrieving and processing information. Smaller data scans translate directly into faster query                                                                                                                                                                                                                                                                                                                             
completion times, especially for queries involving large datasets. Option A, reducing virtual warehouse size,                                                                                                                                                                                                                                                                                                                        
might actually degrade performance by limiting processing capacity. Disabling the result cache (Option C)                                                                                                                                                                                                                                                                                                                            
forces Snowflake to recompute results on each run, negating performance benefits from cached queries.                                                                                                                                                                                                                                                                                                                                
Option D, adding ORDER BY, does not inherently improve data retrieval speed and is only useful for sorting                                                                                                                                                                                                                                                                                                                           
results. Clustering, in contrast, acts at the data storage layer optimizing access, a core aspect of database                                                                                                                                                                                                                                                                                                                        
performance tuning in cloud environments.                                                                                                                                                                                                                                                                                                                                                                                            
Further information:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering                                                                                                                                                                                                                                                                                                                                                                                                
Snowflake Blog on Clustering                                                                                                                                                                                                                                                                                                                                                                                                         
Snowflake University on Clustering                                                                                                                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What does the average_overlaps in the output of SYSTEM$CLUSTERING_INFORMATION refer to?                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. The average number of micro-partitions stored in Time Travel.<br>B. The average number of partitions physically stored in the same location.<br>C. The average number of micro-partitions which contain overlapping value ranges.<br>D. The average number of micro-partitions in the table associated with cloned objects.                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>C</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is C. average_overlaps in the output of SYSTEM$CLUSTERING_INFORMATION reflects                                                                                                                                                                                                                                                                                                                                    
the degree to which micro-partitions within a table contain overlapping ranges of values for the clustering                                                                                                                                                                                                                                                                                                                          
keys. Snowflake automatically divides tables into micro-partitions which store data in a columnar fashion.                                                                                                                                                                                                                                                                                                                           
Clustering keys are used to guide the physical arrangement of these micro-partitions for optimized query                                                                                                                                                                                                                                                                                                                             
performance. The goal of effective clustering is to have each micro-partition hold data within a narrow range                                                                                                                                                                                                                                                                                                                        
for the clustering keys, minimizing the overlap. A high average_overlaps value indicates that many micropartitions have overlapping value ranges, suggesting the table is poorly clustered. This poor clustering can                                                                                                                                                                                                                 
lead to increased scan times during query execution because Snowflake needs to examine more micropartitions to find the relevant data. This ultimately impacts query performance and potentially cost.                                                                                                                                                                                                                               
Conversely, a low average_overlaps indicates that the micro-partitions are well-organized based on the                                                                                                                                                                                                                                                                                                                               
clustering keys, with each holding distinct ranges, which allows Snowflake to more efficiently prune partitions                                                                                                                                                                                                                                                                                                                      
during query processing, enhancing performance. Options A, B, and D are incorrect as average_overlaps is not                                                                                                                                                                                                                                                                                                                         
directly related to time travel, physical storage locations, or cloned objects.                                                                                                                                                                                                                                                                                                                                                      
Relevant Snowflake documentation can be found at:                                                                                                                                                                                                                                                                                                                                                                                    
Understanding Clustering                                                                                                                                                                                                                                                                                                                                                                                                             
SYSTEM$CLUSTERING_INFORMATION                                                                                                                                                                                                                                                                                                                                                                                                        
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What type of columns does Snowflake recommend to be used as clustering keys? (Choose two.)                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. A VARIANT column<br>B. A column with very low cardinality<br>C. A column with very high cardinality<br>D. A column that is most actively used in selective filters<br>E. A column that is most actively used in join predicates                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D, E</strong>                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
Snowflake clustering keys significantly impact query performance by organizing data within micro-partitions.                                                                                                                                                                                                                                                                                                                         
Choosing the right columns for clustering is crucial. Option D, "A column that is most actively used in selective                                                                                                                                                                                                                                                                                                                    
filters," is correct because clustering by columns frequently used in WHERE clauses allows Snowflake to                                                                                                                                                                                                                                                                                                                              
prune partitions more efficiently during query execution. When filters match the clustering key, Snowflake                                                                                                                                                                                                                                                                                                                           
can skip irrelevant partitions, drastically reducing the amount of data scanned. Similarly, Option E, "A column                                                                                                                                                                                                                                                                                                                      
that is most actively used in join predicates," is also a good choice. If join conditions frequently use a                                                                                                                                                                                                                                                                                                                           
particular column, clustering by that column can make join operations much faster by enabling Snowflake to                                                                                                                                                                                                                                                                                                                           
quickly locate matching rows in different tables. Option A, a VARIANT column, is not a suitable clustering key                                                                                                                                                                                                                                                                                                                       
due to its flexible schema and varying data types, which makes efficient data organization difficult. Option B,                                                                                                                                                                                                                                                                                                                      
a low cardinality column, is unsuitable because it results in a small number of large partitions, which limits the                                                                                                                                                                                                                                                                                                                   
benefits of pruning. Option C, a very high cardinality column, although often results in good selectivity, might                                                                                                                                                                                                                                                                                                                     
not be the best clustering column because it could lead to inefficient storage due to its very distinct values.                                                                                                                                                                                                                                                                                                                      
Selecting frequently filtered and joined columns is the recommended approach to maximize the benefits of                                                                                                                                                                                                                                                                                                                             
Snowflake's micro-partitioning and pruning.                                                                                                                                                                                                                                                                                                                                                                                          
Here are some authoritative links for further research:                                                                                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering-keys                                                                                                                                                                                                                                                                                                                               
Snowflake Documentation on Choosing Clustering Keys: https://docs.snowflake.com/en/user-guide/tablesclustering-keys-deciding                                                                                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
The use of which technique or tool will improve Snowflake query performance on very large tables?                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Indexing<br>B. Clustering keys<br>C. Multi-clustering<br>D. Materialized views                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
Clustering keys are the primary method for improving query performance on very large Snowflake tables.                                                                                                                                                                                                                                                                                                                               
Unlike traditional database indexing, which creates separate lookup structures, Snowflake's clustering keys                                                                                                                                                                                                                                                                                                                          
physically reorganize data within micro-partitions. By specifying one or more columns as clustering keys, you                                                                                                                                                                                                                                                                                                                        
instruct Snowflake to store data with similar values together within the same micro-partitions. This drastically                                                                                                                                                                                                                                                                                                                     
reduces the amount of data Snowflake needs to scan during query execution, as the query optimizer can                                                                                                                                                                                                                                                                                                                                
efficiently prune partitions that don’t contain relevant values based on the where clause or joins.                                                                                                                                                                                                                                                                                                                                  
Consequently, queries that filter or join on the clustering key columns will experience significant speedups.                                                                                                                                                                                                                                                                                                                        
Indexing (Option A) is not directly employed by Snowflake on its data storage layer in a traditional sense, as                                                                                                                                                                                                                                                                                                                       
its micro-partitioned architecture handles data organization. Multi-clustering (Option C) is not a standard                                                                                                                                                                                                                                                                                                                          
Snowflake concept, as the term “clustering” in Snowflake refers to the key-based organization of micropartitions. Materialized views (Option D) can improve performance by pre-computing and storing results but                                                                                                                                                                                                                     
do not address the fundamental organization of data within large base tables in the same way as clustering                                                                                                                                                                                                                                                                                                                           
keys. They are suitable for different scenarios involving complex aggregations or frequently executed                                                                                                                                                                                                                                                                                                                                
queries. In summary, clustering keys directly address large table performance by optimizing the physical                                                                                                                                                                                                                                                                                                                             
layout of data.                                                                                                                                                                                                                                                                                                                                                                                                                      
For further research, consult these resources:                                                                                                                                                                                                                                                                                                                                                                                       
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/user-guide/tables-clustering.html                                                                                                                                                                                                                                                                                                                               
Snowflake Performance Tuning Best Practices: https://www.snowflake.com/blog/snowflake-performancetuning-best-practices/                                                                                                                                                                                                                                                                                                              
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
While clustering a table, columns with which data types can be used as clustering keys? (Choose two.)                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. BINARY<br>B. GEOGRAPHY<br>C. GEOMETRY<br>D. OBJECT<br>E. VARIANT                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A, C</strong>                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. BINARY and C. GEOMETRY because Snowflake allows clustering keys to                                                                                                                                                                                                                                                                                                                                          
be defined on columns with specific data types that facilitate efficient data organization and                                                                                                                                                                                                                                                                                                                                       
retrieval. Clustering improves query performance by minimizing the amount of data that needs to                                                                                                                                                                                                                                                                                                                                      
be scanned. According to Snowflake's official documentation, clustering keys can be defined on                                                                                                                                                                                                                                                                                                                                       
columns with data types such as numeric, text, date, timestamp, and geometry, and binary. These                                                                                                                                                                                                                                                                                                                                      
data types generally provide a consistent ordering that clustering can leverage effectively.                                                                                                                                                                                                                                                                                                                                         
BINARY data type which represents arbitrary sequences of bytes, can be used, allowing for                                                                                                                                                                                                                                                                                                                                            
clustering based on binary representations of data, while GEOMETRY columns hold geospatial                                                                                                                                                                                                                                                                                                                                           
data, which can be clustered based on geographic proximity. Conversely, types like GEOGRAPHY,                                                                                                                                                                                                                                                                                                                                        
OBJECT, and VARIANT are generally unsuitable as clustering keys because they may not have a                                                                                                                                                                                                                                                                                                                                          
consistent natural order. GEOGRAPHY data is usually represented with complex spatial index                                                                                                                                                                                                                                                                                                                                           
structures that don't align with traditional clustering techniques. OBJECT and VARIANT types                                                                                                                                                                                                                                                                                                                                         
often have varied data structures, which make them challenging to order and leverage for                                                                                                                                                                                                                                                                                                                                             
efficient clustering. Choosing the right clustering keys based on frequently used filters in queries                                                                                                                                                                                                                                                                                                                                 
is crucial for optimal performance. Incorrectly chosen clustering keys can potentially degrade                                                                                                                                                                                                                                                                                                                                       
query performance.                                                                                                                                                                                                                                                                                                                                                                                                                   
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/user-guide/tablesclustering                                                                                                                                                                                                                                                                                                                                     
Snowflake Data Types: https://docs.snowflake.com/en/sql-reference/data-types                                                                                                                                                                                                                                                                                                                                                         
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which commands can a Snowflake user execute to specify a cluster key for a table? (Choose two.)                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. CREATE<br>B. UPDATE<br>C. ALTER<br>D. SET<br>E. SHOW                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A, C</strong>                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. CREATE and C. ALTER. Cluster keys in Snowflake are used to                                                                                                                                                                                                                                                                                                                                                  
optimize data storage and query performance by physically organizing data on disk                                                                                                                                                                                                                                                                                                                                                    
based on the specified columns. When creating a table, the CREATE TABLE command                                                                                                                                                                                                                                                                                                                                                      
allows you to define a cluster key using the CLUSTER BY clause. This is done at tablecreation time. Later, if you need to change the cluster key of an existing table, you would                                                                                                                                                                                                                                                     
use the ALTER TABLE command, and again employ the CLUSTER BY clause within the                                                                                                                                                                                                                                                                                                                                                       
ALTER statement to modify the key. The UPDATE command is used for modifying                                                                                                                                                                                                                                                                                                                                                          
existing row data within the table, not for schema modifications. Neither SET nor SHOW                                                                                                                                                                                                                                                                                                                                               
command would be used to specify a cluster key. SET is used for setting session or                                                                                                                                                                                                                                                                                                                                                   
object parameters. SHOW is used for viewing existing objects and their properties. Thus,                                                                                                                                                                                                                                                                                                                                             
only CREATE and ALTER commands can specify or change cluster keys, respectively.                                                                                                                                                                                                                                                                                                                                                     
Further Research:                                                                                                                                                                                                                                                                                                                                                                                                                    
Snowflake Documentation on CREATE TABLE: https://docs.snowflake.com/en/sqlreference/sql/create-table.html (Refer to the CLUSTER BY clause).                                                                                                                                                                                                                                                                                          
Snowflake Documentation on ALTER TABLE: https://docs.snowflake.com/en/sqlreference/sql/alter-table.html (Refer to the CLUSTER BY clause section).                                                                                                                                                                                                                                                                                    
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/userguide/tables-clustering.html                                                                                                                                                                                                                                                                                                                                
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
How should clustering be used to optimize the performance of queries that run on a very large table?                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Manually re-cluster the table regularly.<br>B. Choose one high cardinality column as the clustering key.<br>C. Use the column that is most-frequently used in query select clauses as the clustering key.<br>D. Assess the average table depth to identify how clustering is impacting the query.                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D. Assess the average table depth to identify how clustering is                                                                                                                                                                                                                                                                                                                                                
impacting the query.                                                                                                                                                                                                                                                                                                                                                                                                                 
Clustering in Snowflake optimizes query performance by organizing data physically                                                                                                                                                                                                                                                                                                                                                    
within micro-partitions based on specified clustering keys. This organization reduces the                                                                                                                                                                                                                                                                                                                                            
amount of data scanned during queries, as Snowflake can intelligently skip irrelevant                                                                                                                                                                                                                                                                                                                                                
micro-partitions. Option D addresses how to monitor the effectiveness of this process.                                                                                                                                                                                                                                                                                                                                               
Average table depth is a key metric indicating how effectively the clustering is working.                                                                                                                                                                                                                                                                                                                                            
A high average depth suggests that data is not well-clustered, leading to more micropartitions being scanned unnecessarily during queries, and thus poorer performance.Options A, B, and C are less directly related to assessing the impact of clustering. While                                                                                                                                                                    
reclustering (A) can improve performance, it's not a diagnostic method. Choosing a high                                                                                                                                                                                                                                                                                                                                              
cardinality column (B) or a column used in select clauses (C) can be good strategies for                                                                                                                                                                                                                                                                                                                                             
setting clustering keys, but they don’t tell you if clustering is working effectively.                                                                                                                                                                                                                                                                                                                                               
Monitoring table depth is crucial because poorly chosen clustering keys, or data skew,                                                                                                                                                                                                                                                                                                                                               
can lead to ineffective clustering even if a key was chosen based on best practices. By                                                                                                                                                                                                                                                                                                                                              
regularly examining the table depth, you can gain insights to determine whether the                                                                                                                                                                                                                                                                                                                                                  
current clustering strategy is optimal and make informed decisions on how to re-cluster,                                                                                                                                                                                                                                                                                                                                             
adjust keys, or address data skew.                                                                                                                                                                                                                                                                                                                                                                                                   
Therefore, focusing on assessing the impact of existing clustering through table depth is                                                                                                                                                                                                                                                                                                                                            
the most direct way to diagnose and improve query performance, making D the most                                                                                                                                                                                                                                                                                                                                                     
appropriate answer.                                                                                                                                                                                                                                                                                                                                                                                                                  
Authoritative Links:                                                                                                                                                                                                                                                                                                                                                                                                                 
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/userguide/tables-clustering.html                                                                                                                                                                                                                                                                                                                                
Snowflake Documentation on Micro-partitions: https://docs.snowflake.com/en/userguide/tables-micro-partitions.html                                                                                                                                                                                                                                                                                                                    
Snowflake Documentation on Table Depth: https://docs.snowflake.com/en/sqlreference/functions/system_average_depth.html                                                                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
How does Snowflake utilize clustering information to improve query performance?                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. It prunes unnecessary micro-partitions based on clustering metadata.<br>B. It compresses the data within micro-partitions for faster querying.<br>C. It automatically allocates additional resources to improve query execution.<br>D. It organizes clustering information to speed-up data retrieval from storage.                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. It prunes unnecessary micro-partitions based on clustering                                                                                                                                                                                                                                                                                                                                                  
metadata.                                                                                                                                                                                                                                                                                                                                                                                                                            
Snowflake's architecture relies on micro-partitions, which are small, contiguous units of                                                                                                                                                                                                                                                                                                                                            
data storage. Clustering keys, defined on a table, specify the order in which data is                                                                                                                                                                                                                                                                                                                                                
sorted within these micro-partitions. This ordering is crucial for query performance.                                                                                                                                                                                                                                                                                                                                                
Snowflake automatically maintains metadata about the data ranges stored in each                                                                                                                                                                                                                                                                                                                                                      
micro-partition based on the clustering keys. When a query is executed, the query engine                                                                                                                                                                                                                                                                                                                                             
analyzes the WHERE clause and the clustering keys involved. This enables the engine to                                                                                                                                                                                                                                                                                                                                               
identify which micro-partitions contain data relevant to the query and which ones can be                                                                                                                                                                                                                                                                                                                                             
skipped (pruned) entirely.                                                                                                                                                                                                                                                                                                                                                                                                           
By pruning irrelevant micro-partitions, Snowflake significantly reduces the amount of                                                                                                                                                                                                                                                                                                                                                
data that needs to be scanned, leading to faster query execution times and reduced                                                                                                                                                                                                                                                                                                                                                   
resource consumption. This process is known as partition pruning or micro-partition                                                                                                                                                                                                                                                                                                                                                  
pruning.                                                                                                                                                                                                                                                                                                                                                                                                                             
Option B is incorrect because while Snowflake uses compression, it's not directly tied to                                                                                                                                                                                                                                                                                                                                            
the clustering information. Option C is incorrect; while Snowflake does scale resources,                                                                                                                                                                                                                                                                                                                                             
it's based on workload demand and not primarily on clustering. Option D describes how                                                                                                                                                                                                                                                                                                                                                
data is generally organized, but the direct performance gain is primarily achieved                                                                                                                                                                                                                                                                                                                                                   
through pruning.                                                                                                                                                                                                                                                                                                                                                                                                                     
Clustering is about data ordering within micro-partitions, while metadata helps                                                                                                                                                                                                                                                                                                                                                      
Snowflake make intelligent decisions during query processing. The benefit of clustering                                                                                                                                                                                                                                                                                                                                              
is realized through the selective access achieved by pruning.                                                                                                                                                                                                                                                                                                                                                                        
For further research, refer to the official Snowflake documentation onclustering:https://docs.snowflake.com/en/user-guide/tables-clustering.htmland micropartition pruning:https://docs.snowflake.com/en/user-guide/tablespartitions.html#partition-pruning                                                                                                                                                                          
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
A query containing a WHERE clause is running longer than expected. The Query Profile shows that all micropartitions being scanned.                                                                                                                                                                                                                                                                                                   
How should this query be optimized?                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Create a view on the table.<br>B. Add a clustering key to the table.<br>C. Add a LIMIT clause to the query.<br>D. Add a Dynamic Data Masking policy to the table.                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is B. Add a clustering key to the table.Here's why:                                                                                                                                                                                                                                                                                                                                                               
The problem states that the query is scanning all micro-partitions despite having a                                                                                                                                                                                                                                                                                                                                                  
WHERE clause. This indicates a lack of efficient data skipping. Snowflake organizes data                                                                                                                                                                                                                                                                                                                                             
into micro-partitions, and it uses metadata about the data within those partitions to                                                                                                                                                                                                                                                                                                                                                
avoid scanning irrelevant partitions. If the data is not organized in a way that aligns with                                                                                                                                                                                                                                                                                                                                         
the query's WHERE clause filters, Snowflake has no choice but to scan everything.                                                                                                                                                                                                                                                                                                                                                    
Adding a clustering key reorganizes the data in the table based on the columns specified                                                                                                                                                                                                                                                                                                                                             
in the key. This pre-sorts the data within the micro-partitions, allowing Snowflake to                                                                                                                                                                                                                                                                                                                                               
effectively use the micro-partition metadata to skip large amounts of data during query                                                                                                                                                                                                                                                                                                                                              
execution. By clustering on columns frequently used in WHERE clause filters, you                                                                                                                                                                                                                                                                                                                                                     
significantly improve query performance. Snowflake can then intelligently determine                                                                                                                                                                                                                                                                                                                                                  
which micro-partitions contain the desired data, thereby reducing I/O and processing                                                                                                                                                                                                                                                                                                                                                 
time.                                                                                                                                                                                                                                                                                                                                                                                                                                
Option A (creating a view) does not inherently improve data skipping. A view is simply a                                                                                                                                                                                                                                                                                                                                             
stored query; it doesn't change the underlying data organization. The same scanning                                                                                                                                                                                                                                                                                                                                                  
problem would persist if the view's underlying table lacks proper clustering.                                                                                                                                                                                                                                                                                                                                                        
Option C (adding a LIMIT clause) reduces the number of rows returned, but it doesn't                                                                                                                                                                                                                                                                                                                                                 
prevent the full table scan. Snowflake will still have to scan all micro-partitions to find                                                                                                                                                                                                                                                                                                                                          
the first n rows that match the WHERE clause. While it might make the query faster                                                                                                                                                                                                                                                                                                                                                   
overall, it doesn't address the underlying problem of inefficient data scanning.                                                                                                                                                                                                                                                                                                                                                     
Option D (adding a Dynamic Data Masking policy) focuses on data security and masking                                                                                                                                                                                                                                                                                                                                                 
sensitive information. It has no effect on query performance or the data scanning                                                                                                                                                                                                                                                                                                                                                    
behavior. It might even introduce a small performance overhead due to the masking                                                                                                                                                                                                                                                                                                                                                    
process.                                                                                                                                                                                                                                                                                                                                                                                                                             
Therefore, adding a clustering key is the most effective solution to optimize the query by                                                                                                                                                                                                                                                                                                                                           
enabling better data skipping, thereby reducing the number of micro-partitions scanned.                                                                                                                                                                                                                                                                                                                                              
This reduces the workload and improves the performance of the query.                                                                                                                                                                                                                                                                                                                                                                 
For further reading on clustering in Snowflake, see these authoritative links:                                                                                                                                                                                                                                                                                                                                                       
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/userguide/tables-clustering-keys.html                                                                                                                                                                                                                                                                                                                           
Understanding Snowflake Micro-partitions and Data Clustering:                                                                                                                                                                                                                                                                                                                                                                        
https://www.snowflake.com/blog/optimizing-snowflake-performance-understandingmicro-partitions-data-clustering/                                                                                                                                                                                                                                                                                                                       
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
How does Snowflake recommend defining a clustering key on a high-cardinality column that includes a 15 digit ID                                                                                                                                                                                                                                                                                                                      
numbered column, ID_NUMBER?                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. TRUNC(ID_NUMBER, -6)<br>B. TRUNC(ID_NUMBER, 5)<br>C. ID_NUMBER*100<br>D. TO_CHAR(ID_NUMBER)                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
Here's a detailed justification for why option A, TRUNC(ID_NUMBER, -6), is the most                                                                                                                                                                                                                                                                                                                                                  
suitable approach for defining a clustering key on a 15-digit high-cardinality ID column in                                                                                                                                                                                                                                                                                                                                          
Snowflake:                                                                                                                                                                                                                                                                                                                                                                                                                           
Snowflake clustering aims to group physically related data in micro-partitions,optimizing query performance by reducing the amount of data scanned. High cardinality                                                                                                                                                                                                                                                                 
columns, like a unique 15-digit ID, generally make poor clustering keys because each                                                                                                                                                                                                                                                                                                                                                 
value is nearly unique, resulting in very little grouping. A clustering key should ideally                                                                                                                                                                                                                                                                                                                                           
represent a smaller number of distinct values. Truncating the ID helps create that                                                                                                                                                                                                                                                                                                                                                   
grouping. TRUNC(ID_NUMBER, -6) specifically truncates the ID to the nearest million,                                                                                                                                                                                                                                                                                                                                                 
effectively clustering IDs that share the same first 9 digits.                                                                                                                                                                                                                                                                                                                                                                       
Option B, TRUNC(ID_NUMBER, 5), truncates to the nearest ten-thousand, which might                                                                                                                                                                                                                                                                                                                                                    
result in excessive clustering if the IDs are sequentially created, leading to potential hot                                                                                                                                                                                                                                                                                                                                         
spots and impacting performance. Option C, ID_NUMBER * 100, while still numeric, only                                                                                                                                                                                                                                                                                                                                                
changes the number of digits and therefore doesn't alter the cardinality, making it                                                                                                                                                                                                                                                                                                                                                  
unsuitable. Option D, TO_CHAR(ID_NUMBER), converts the ID to a string; this change in                                                                                                                                                                                                                                                                                                                                                
type won't influence the cardinality or clustering itself and wouldn't improve clustering                                                                                                                                                                                                                                                                                                                                            
efficiency. It also leads to string-based comparison which can be less efficient.                                                                                                                                                                                                                                                                                                                                                    
Truncating to the nearest million (using negative values in TRUNC) effectively buckets                                                                                                                                                                                                                                                                                                                                               
records, improving data locality and query performance. By grouping data with similar                                                                                                                                                                                                                                                                                                                                                
leading digits, fewer micro-partitions need to be scanned. When a query filters on some                                                                                                                                                                                                                                                                                                                                              
ranges, this clustering allows Snowflake to prune partitions that don't contain any                                                                                                                                                                                                                                                                                                                                                  
relevant data, leading to faster data retrieval. The level of truncation (the negative digits                                                                                                                                                                                                                                                                                                                                        
used in TRUNC) should be carefully chosen to achieve optimal balance between                                                                                                                                                                                                                                                                                                                                                         
cardinality and grouping. Using -6 means that roughly one million records might share                                                                                                                                                                                                                                                                                                                                                
the same first 9 digits, which is a reasonable size for a cluster within a micro-partition.                                                                                                                                                                                                                                                                                                                                          
Here are authoritative links for further research:                                                                                                                                                                                                                                                                                                                                                                                   
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/userguide/tables-clustering.html                                                                                                                                                                                                                                                                                                                                
Snowflake Documentation on TRUNC Function: https://docs.snowflake.com/en/sqlreference/functions/trunc.html                                                                                                                                                                                                                                                                                                                           
Therefore, option A is the most recommended solution for a high-cardinality ID column                                                                                                                                                                                                                                                                                                                                                
for effective clustering in Snowflake.                                                                                                                                                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
What triggers the automated maintenance of a table's clustering key after it has been defined?                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. A scheduled task established by the ORGADMIN.<br>B. A time-based schedule set by the user.<br>C. A Snowflake determination based on the table size.<br>D. A Snowflake determination that the table will benefit from maintenance.                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>D</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is D: A Snowflake determination that the table will benefit from                                                                                                                                                                                                                                                                                                                                                  
maintenance. Here's why:                                                                                                                                                                                                                                                                                                                                                                                                             
Snowflake automatically handles clustering key maintenance. It intelligently monitors                                                                                                                                                                                                                                                                                                                                                
data changes within a table and determines when re-clustering is beneficial. This                                                                                                                                                                                                                                                                                                                                                    
proactive approach optimizes query performance. Snowflake's maintenance decisions                                                                                                                                                                                                                                                                                                                                                    
are based on a cost-benefit analysis. It considers factors like data skew, micro-partition                                                                                                                                                                                                                                                                                                                                           
overlap, and potential performance improvements.                                                                                                                                                                                                                                                                                                                                                                                     
Option A is incorrect because automated clustering maintenance isn't triggered by a                                                                                                                                                                                                                                                                                                                                                  
scheduled task defined by the ORGADMIN. While tasks can perform other data                                                                                                                                                                                                                                                                                                                                                           
maintenance operations, they don't directly control automated clustering.                                                                                                                                                                                                                                                                                                                                                            
Option B is wrong because Snowflake doesn't provide a user-configurable, time-based                                                                                                                                                                                                                                                                                                                                                  
schedule for automatic clustering maintenance. The system decides when to perform                                                                                                                                                                                                                                                                                                                                                    
this process.                                                                                                                                                                                                                                                                                                                                                                                                                        
Option C is partially true. Table size is a factor, but not the sole determinant. Snowflake                                                                                                                                                                                                                                                                                                                                          
also considers data distribution and query patterns. Simply being a large table doesn't                                                                                                                                                                                                                                                                                                                                              
automatically trigger re-clustering if the table is already well-clustered.                                                                                                                                                                                                                                                                                                                                                          
Therefore, Snowflake's system dynamically assesses whether the cost of re-clustering                                                                                                                                                                                                                                                                                                                                                 
outweighs the potential gains in query performance. If the analysis suggests a                                                                                                                                                                                                                                                                                                                                                       
significant improvement, it initiates automated maintenance. This is a core feature of                                                                                                                                                                                                                                                                                                                                               
Snowflake's self-tuning capabilities.                                                                                                                                                                                                                                                                                                                                                                                                
Refer to the Snowflake documentation for more information:                                                                                                                                                                                                                                                                                                                                                                           
Clustering Keys: https://docs.snowflake.com/en/user-guide/tables-clusteringkeys.html                                                                                                                                                                                                                                                                                                                                                 
Understanding Snowflake Table Structures: https://docs.snowflake.com/en/userguide/tables-internal.html                                                                                                                                                                                                                                                                                                                               
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Which query metric can be used to monitor the health of a large table?                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. Clustering depth<br>B. Clustering key<br>C. Total partition count<br>D. Total number of rows                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A</strong>                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                     
The correct answer is A. Clustering depth.                                                                                                                                                                                                                                                                                                                                                                                           
Clustering depth is a critical metric for assessing the organization and health of large                                                                                                                                                                                                                                                                                                                                             
Snowflake tables, particularly those using clustering keys. A low clustering depth                                                                                                                                                                                                                                                                                                                                                   
indicates that the data within the table is well-organized based on the clustering key,                                                                                                                                                                                                                                                                                                                                              
meaning similar data points are stored together within micro-partitions. This efficient                                                                                                                                                                                                                                                                                                                                              
arrangement drastically improves query performance because Snowflake can minimize                                                                                                                                                                                                                                                                                                                                                    
the number of micro-partitions it needs to scan to satisfy a query.                                                                                                                                                                                                                                                                                                                                                                  
Conversely, a high clustering depth suggests poor data organization relative to the                                                                                                                                                                                                                                                                                                                                                  
clustering key. Data of different values for the clustering key are scattered throughout                                                                                                                                                                                                                                                                                                                                             
various micro-partitions. This necessitates scanning more micro-partitions, leading to                                                                                                                                                                                                                                                                                                                                               
slower query execution and increased resource consumption. Monitoring clustering                                                                                                                                                                                                                                                                                                                                                     
depth helps identify tables needing re-clustering to optimize their performance and                                                                                                                                                                                                                                                                                                                                                  
maintain overall health.                                                                                                                                                                                                                                                                                                                                                                                                             
Options B, C, and D are not the best metrics for monitoring the health of a large table,                                                                                                                                                                                                                                                                                                                                             
specifically related to query performance optimization. While the clustering key (B) is                                                                                                                                                                                                                                                                                                                                              
important for defining how data should be organized, the key itself doesn't tell you how                                                                                                                                                                                                                                                                                                                                             
well that organization is performing. The total partition count (C) provides general table                                                                                                                                                                                                                                                                                                                                           
size information, but not necessarily how well the data is clustered. Similarly, the total                                                                                                                                                                                                                                                                                                                                           
number of rows (D) is simply the data volume; it's unrelated to data organization and                                                                                                                                                                                                                                                                                                                                                
query performance.                                                                                                                                                                                                                                                                                                                                                                                                                   
Clustering depth is actively used to monitor how effective your clustering strategies are.                                                                                                                                                                                                                                                                                                                                           
Periodic monitoring and proactive reclustering based on observed clustering depth                                                                                                                                                                                                                                                                                                                                                    
improvements are vital parts of maintaining a healthy Snowflake environment. It's more                                                                                                                                                                                                                                                                                                                                               
about how your data is arranged rather than simply how much there is.                                                                                                                                                                                                                                                                                                                                                                
Here are some authoritative links for further research:                                                                                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Clustering: https://docs.snowflake.com/en/userguide/tables-clustering-keys.html                                                                                                                                                                                                                                                                                                                           
Snowflake Documentation on Clustering Depth: https://docs.snowflake.com/en/userguide/tables-clustering-depth.html                                                                                                                                                                                                                                                                                                                    
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
---                                                                                                                                                                                                                                                                                                                                                                                                                                  
Based on a review of a Query Profile, which scenarios will benefit the MOST from the use of a data clustering key?                                                                                                                                                                                                                                                                                                                   
(Choose two.)                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. A column that appears most frequently in ORDER BY operations<br>B. A column that appears most frequently in WHERE operations<br>C. A column that appears most frequently in GROUP BY operations<br>D. A column that appears most frequently in AGGREGATE operations<br>E. A column that appears most frequently in JOIN operations                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
<details>                                                                                                                                                                                                                                                                                                                                                                                                                            
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                                                                                                                     
<strong>A, B</strong>                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                     
A. A column that appears most frequently in ORDER BY operations.                                                                                                                                                                                                                                                                                                                                                                     
B. A column that appears most frequently in WHERE operations.A. ORDER BY operations                                                                                                                                                                                                                                                                                                                                                  
Sorting operations benefit from clustering because the data is already organized on disk,                                                                                                                                                                                                                                                                                                                                            
reducing compute resources for sorting.                                                                                                                                                                                                                                                                                                                                                                                              
B. WHERE operations                                                                                                                                                                                                                                                                                                                                                                                                                  
Queries with filters on a clustered column can skip scanning unnecessary micropartitions, significantly improving performance.                                                                                                                                                                                                                                                                                                       
</details>                                                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                     
