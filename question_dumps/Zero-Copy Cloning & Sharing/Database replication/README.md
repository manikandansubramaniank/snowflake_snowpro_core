# Database replication                                                                                                                                                                                                                                                  
What happens when a cloned table is replicated to a secondary database? (Choose two.)                                                                                                                                                                                   
                                                                                                                                                                                                                                                                        
A. A read-only copy of the cloned tables is stored.<br>B. The replication will not be successful.<br>C. The physical data is replicated.<br>D. Additional costs for storage are charged to a secondary account.<br>E. Metadata pointers to cloned tables are replicated.
                                                                                                                                                                                                                                                                        
<details>                                                                                                                                                                                                                                                               
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                        
<strong>C, D</strong>                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                        
Here's a detailed justification for why options C and D are the correct answers when a cloned table is                                                                                                                                                                  
replicated to a secondary database in Snowflake:                                                                                                                                                                                                                        
When a table is cloned in Snowflake, it initially shares the underlying storage with the original table. This is                                                                                                                                                        
achieved through metadata pointers, meaning no additional physical storage is used initially. However,                                                                                                                                                                  
replicating this cloned table to a secondary database introduces a new dynamic. Replication involves                                                                                                                                                                    
physically copying the data to the secondary region. This means that while the clone initially only had                                                                                                                                                                 
metadata pointers, when it's replicated, the actual physical data associated with the cloned table needs to be                                                                                                                                                          
copied and stored in the secondary database. Hence, option C, "The physical data is replicated," is correct.                                                                                                                                                            
Since physical data is copied to a new location, this requires storage resources in the secondary account. This                                                                                                                                                         
physical storage incurs costs, therefore option D, "Additional costs for storage are charged to a secondary                                                                                                                                                             
account," is also correct. The secondary database operates as a completely independent database with its                                                                                                                                                                
own storage and compute resources. The replication process, thus, leads to the secondary account being                                                                                                                                                                  
charged for the new storage utilized.                                                                                                                                                                                                                                   
Option A is incorrect because, while the cloned table is a snapshot in time, the replicated table in the                                                                                                                                                                
secondary database is not inherently read-only. It can be modified as per the permissions set in the secondary                                                                                                                                                          
database, making the statement inaccurate in the context of replication. Option B is incorrect, as replication                                                                                                                                                          
of cloned tables is a supported feature in Snowflake, meaning the operation will be successful. Option E is                                                                                                                                                             
partially true in that metadata is involved, but the main outcome of the replication is physical data replication,                                                                                                                                                      
making it an incomplete answer and less accurate compared to C. In summary, replication copies the physical                                                                                                                                                             
data of the cloned table to the secondary location, leading to additional storage costs there.                                                                                                                                                                          
Here are some authoritative links for further research:                                                                                                                                                                                                                 
Snowflake Documentation on Replication: https://docs.snowflake.com/en/guides-replication                                                                                                                                                                                
Snowflake Documentation on Cloning: https://docs.snowflake.com/en/sql-reference/sql/create-clone                                                                                                                                                                        
Snowflake Cost Optimization Guide: https://www.snowflake.com/blog/snowflake-cost-optimization-bestpractices/ (This may not directly discuss cloning with replication but gives a general idea of storage costs).                                                        
</details>                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                        
---                                                                                                                                                                                                                                                                     
What are the benefits of the replication feature in Snowflake? (Choose two.)                                                                                                                                                                                            
                                                                                                                                                                                                                                                                        
A. Disaster recovery<br>B. Time Travel<br>C. Fail-safe<br>D. Database failover and failback<br>E. Data security                                                                                                                                                         
                                                                                                                                                                                                                                                                        
<details>                                                                                                                                                                                                                                                               
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                        
<strong>A, D</strong>                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                        
The correct answer is A and D. Replication in Snowflake provides significant benefits for business continuity                                                                                                                                                           
and disaster recovery scenarios.                                                                                                                                                                                                                                        
A. Disaster recovery: Replication enables you to create a secondary copy of your data in a different region or                                                                                                                                                          
account. In the event of a regional outage or disaster affecting the primary location, you can failover to the                                                                                                                                                          
replicated copy, minimizing downtime and data loss. This ensures business continuity and allows users to                                                                                                                                                                
continue accessing and using data.                                                                                                                                                                                                                                      
D. Database failover and failback: Replication facilitates the process of failing over to a secondary database                                                                                                                                                          
in case of an issue with the primary. Snowflake supports both database replication and replication of groupsof databases. This allows for faster recovery times as compared to rebuilding a database from scratch. After                                                
the primary is restored, Snowflake also supports failback, allowing you to return operations to the original                                                                                                                                                            
environment.                                                                                                                                                                                                                                                            
Let's examine why the other options are incorrect:                                                                                                                                                                                                                      
B. Time Travel: Time Travel allows you to access historical data within a defined period (up to 90 days for                                                                                                                                                             
Enterprise Edition and higher). While valuable for data recovery and auditing, it's not directly related to                                                                                                                                                             
replication and disaster recovery across regions.                                                                                                                                                                                                                       
C. Fail-safe: Fail-safe provides a 7-day period after Time Travel for Snowflake to recover data in the event of a                                                                                                                                                       
catastrophic system failure. It's a safety net managed by Snowflake and not directly controlled by the user                                                                                                                                                             
like replication, which offers region-level redundancy. It's also not a user-initiated process like failover.                                                                                                                                                           
E. Data security: While replication indirectly contributes to data security by providing a backup in case of data                                                                                                                                                       
loss or corruption, its primary focus isn't on preventing data breaches or unauthorized access. Snowflake                                                                                                                                                               
provides various security features, such as encryption, access control, and network policies, that directly                                                                                                                                                             
address data security concerns. Replication primarily serves to ensure data availability and business                                                                                                                                                                   
continuity.                                                                                                                                                                                                                                                             
Authoritative links for further research:                                                                                                                                                                                                                               
Snowflake Replication: https://docs.snowflake.com/en/guides-replication                                                                                                                                                                                                 
Snowflake Failover and Failback: https://docs.snowflake.com/en/user-guide/disaster-recovery-failover                                                                                                                                                                    
Snowflake Time Travel & Fail-safe: https://docs.snowflake.com/en/user-guide/data-recovery-time-travel                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                        
---                                                                                                                                                                                                                                                                     
Which Snowflake object is supported by both database replication and replication groups?                                                                                                                                                                                
                                                                                                                                                                                                                                                                        
A. Pipes<br>B. Users<br>C. Stages<br>D. Materialized views                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                        
<details>                                                                                                                                                                                                                                                               
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                        
<strong>A</strong>                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                        
The correct answer is A. Pipes. Both database replication and replication groups in                                                                                                                                                                                     
Snowflake support the replication of Pipes. Pipes are Snowflake objects that automate                                                                                                                                                                                   
the loading of data into tables from external or internal locations. Database replication                                                                                                                                                                               
replicates a single database to a target account, including its contained objects.                                                                                                                                                                                      
Replication groups, on the other hand, provide a more granular and flexible approach to                                                                                                                                                                                 
replicating multiple databases and their specific objects across accounts or regions.Pipes, being essential for data ingestion workflows, are crucial objects to replicate in                                                                                           
both scenarios. Users (B) and Materialized views (D) are replicated within the database                                                                                                                                                                                 
context but are not directly considered objects for replication in the sense that they are                                                                                                                                                                              
"included" or "excluded" from the replication configuration. Stages (C), while vital for                                                                                                                                                                                
data loading, are also database-scoped objects. In replication, you are replicating the                                                                                                                                                                                 
whole database or selected databases in a replication group, thus Stages, like other                                                                                                                                                                                    
database-scoped objects, will be replicated indirectly if the database is selected to be                                                                                                                                                                                
replicated. Pipes, however, are specifically supported as distinct objects for replication.                                                                                                                                                                             
Supporting Links:                                                                                                                                                                                                                                                       
Snowflake Documentation on Database Replication:                                                                                                                                                                                                                        
https://docs.snowflake.com/en/guides/replication/database-replication                                                                                                                                                                                                   
Snowflake Documentation on Replication Groups:                                                                                                                                                                                                                          
https://docs.snowflake.com/en/guides/replication/replication-groups                                                                                                                                                                                                     
Snowflake Documentation on Pipes: https://docs.snowflake.com/en/sqlreference/sql/create-pipe                                                                                                                                                                            
</details>                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                        
