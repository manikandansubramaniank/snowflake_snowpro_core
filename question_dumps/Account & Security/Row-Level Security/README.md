# Row-Level Security                                                                                                                                                                                                                                                                                                              
True or False: Users are able to see the result sets of queries executed by other users that share their same role.                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                  
A. True<br>B. False                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>B</strong>                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                  
The statement that users can see the result sets of queries executed by other users sharing the same role in                                                                                                                                                                                                                      
Snowflake is false. Snowflake's security model emphasizes data privacy and separation, even among users                                                                                                                                                                                                                           
with the same role. Access control in Snowflake is not just about roles; it also includes object-level privileges.                                                                                                                                                                                                                
While a role grants permissions to perform actions on specific objects (like tables or views), it doesn't                                                                                                                                                                                                                         
automatically grant access to the result sets of queries run by other users.                                                                                                                                                                                                                                                      
Each user’s session in Snowflake operates independently. Query results are typically stored within the user's                                                                                                                                                                                                                     
session context and are not visible to others. Snowflake does not save query results persistently by default,                                                                                                                                                                                                                     
beyond what's needed for user experience and performance. For security reasons, sharing sensitive query                                                                                                                                                                                                                           
outputs amongst users is not an inherent feature of the platform.                                                                                                                                                                                                                                                                 
To achieve any form of data sharing from the results of one user's query with another, a user would need                                                                                                                                                                                                                          
explicit action like creating a share, a view, a table, or some sort of data replication or data-transfer                                                                                                                                                                                                                         
mechanism.                                                                                                                                                                                                                                                                                                                        
Granting access to underlying data through roles allows multiple users to query the same source                                                                                                                                                                                                                                   
tables/views. The query results, however, remain isolated, reinforcing Snowflake’s commitment to data                                                                                                                                                                                                                             
security and access control. Simply having the same role does not grant access to the queries' data of otherusers. The Snowflake documentation clearly highlights the user-centric security model, where data access                                                                                                              
requires specific permissions and controls.                                                                                                                                                                                                                                                                                       
For further research, review the official Snowflake documentation on Role-Based Access Control (RBAC) and                                                                                                                                                                                                                         
security concepts, particularly regarding user sessions, object privileges, and data sharing mechanisms.                                                                                                                                                                                                                          
These resources will explain why merely sharing a role does not provide access to other users' query results.                                                                                                                                                                                                                     
https://docs.snowflake.com/en/user-guide/security-access-controloverviewhttps://docs.snowflake.com/en/user-guide/security-rbac                                                                                                                                                                                                    
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
How can a row access policy be applied to a table or a view? (Choose two.)                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
A. Within the policy DDL<br>B. Within the create table or create view DDL<br>C. By future APPLY for all objects in a schema<br>D. Within a control table<br>E. Using the command ALTER ADD ROW ACCESS POLICY                                                                                                                      
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>B, E</strong>                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                  
B. Within the CREATE TABLE or CREATE VIEW DDL.                                                                                                                                                                                                                                                                                    
When creating a table or view, you can specify a row access policy directly in the DDL statement using the                                                                                                                                                                                                                        
ROW ACCESS POLICY clause.                                                                                                                                                                                                                                                                                                         
E. Using the command ALTER ADD ROW ACCESS POLICY.                                                                                                                                                                                                                                                                                 
A row access policy can be applied to an existing table or view using the ALTER TABLE or ALTER VIEW                                                                                                                                                                                                                               
command:                                                                                                                                                                                                                                                                                                                          
sql                                                                                                                                                                                                                                                                                                                               
Copy                                                                                                                                                                                                                                                                                                                              
Edit                                                                                                                                                                                                                                                                                                                              
ALTER TABLE my_table ADD ROW ACCESS POLICY my_policy ON (column_name);                                                                                                                                                                                                                                                            
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
What is the minimum Snowflake edition required for row level security?                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                  
A. Standard<br>B. Enterprise<br>C. Business Critical<br>D. Virtual Private Snowflake                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>B</strong>                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                  
The correct answer is Enterprise edition because Row-Level Security (RLS) in Snowflake requires this edition                                                                                                                                                                                                                      
or higher. Snowflake employs a tiered edition system, each offering a distinct set of features and                                                                                                                                                                                                                                
functionalities. Standard edition lacks advanced security features such as RLS. Enterprise edition unlocks                                                                                                                                                                                                                        
more sophisticated controls, including RLS policies, enabling fine-grained access control at the row level.                                                                                                                                                                                                                       
RLS policies restrict data access based on user roles, security predicates, or other contextual factors. These                                                                                                                                                                                                                    
policies ensure that users only see the data they are authorized to view, enhancing data security and                                                                                                                                                                                                                             
compliance. Business Critical edition builds upon Enterprise by adding advanced security and governance                                                                                                                                                                                                                           
features like HIPAA support and enhanced data protection. Virtual Private Snowflake (VPS) is the most secure                                                                                                                                                                                                                      
and isolated environment, which is tailored for organizations with stringent security and compliance needs,                                                                                                                                                                                                                       
encompassing all the features available in Business Critical. However, the minimum requirement for RLS is                                                                                                                                                                                                                         
the Enterprise edition. Therefore, while Business Critical and VPS support RLS, Enterprise is the foundational                                                                                                                                                                                                                    
edition where this feature becomes available. Opting for Standard would leave you without RLS capabilities,                                                                                                                                                                                                                       
making Enterprise the most appropriate selection.                                                                                                                                                                                                                                                                                 
Snowflake Editions: https://www.snowflake.com/editions/Row-Level Security Documentation:                                                                                                                                                                                                                                          
https://docs.snowflake.com/en/user-guide/security-row-level.html                                                                                                                                                                                                                                                                  
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
What does Snowflake recommend as a best practice for using secure views?                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                  
A. Use sequence-generated values.<br>B. Programmatically reveal the identifiers.<br>C. Use secure views solely for query convenience.<br>D. Do not expose the sequence-generated column(s).                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>D</strong>                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                  
The correct answer is D. Do not expose the sequence-generated column(s). Secure views in Snowflake are                                                                                                                                                                                                                            
designed to restrict access to underlying data while still providing a specific perspective. When using                                                                                                                                                                                                                           
sequence-generated values (like IDs), these values can inadvertently expose sensitive information or patterns                                                                                                                                                                                                                     
about the underlying data. If the sequence is predictable, it could be exploited to infer information about                                                                                                                                                                                                                       
record order, volume, or even deletion patterns. Exposing these sequences could negate the security benefits                                                                                                                                                                                                                      
of using secure views in the first place. Therefore, Snowflake recommends avoiding their direct exposure in                                                                                                                                                                                                                       
secure views. Options A and B are incorrect as programmatically revealing identifiers and sequencegenerated values counteracts the purpose of data masking, and using secure views solely for convenience                                                                                                                         
lacks consideration for data protection. Option C, using secure views only for query convenience is an underutilization of its capabilities and doesn't address security concerns effectively. By not including sequence-generated columns in the secure view's output, you prevent indirect access to these potentially sensitive
patterns, maintaining the desired level of data protection. This approach adheres to the principle of least                                                                                                                                                                                                                       
privilege and promotes secure data access.                                                                                                                                                                                                                                                                                        
For further information, refer to Snowflake's official documentation on secure                                                                                                                                                                                                                                                    
views:https://docs.snowflake.com/en/user-guide/security-secureviews.htmlhttps://docs.snowflake.com/en/sql-reference/sql/create-secure-view.html                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
Why should a Snowflake user implement a secure view? (Choose two.)                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                  
A. To store unstructured data<br>B. To increase query performance<br>C. To limit access to sensitive data<br>D. To optimize query concurrency and queuing<br>E. To hide view definition and details from unauthorized users                                                                                                       
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>C, E</strong>                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                  
The correct answers are C and E. Secure views in Snowflake are primarily designed to enhance data security                                                                                                                                                                                                                        
and control access to sensitive information, not for storing unstructured data, improving performance, or                                                                                                                                                                                                                         
optimizing query concurrency.                                                                                                                                                                                                                                                                                                     
C. To limit access to sensitive data: Secure views enable the application of row-level and column-level                                                                                                                                                                                                                           
security policies. This means users can see only the data they are authorized to access, preventing them from                                                                                                                                                                                                                     
viewing sensitive information that they should not have access to. For example, a secure view could restrict a                                                                                                                                                                                                                    
user's access to specific columns (like social security numbers) or rows (e.g., based on geographical location                                                                                                                                                                                                                    
or role). This is a fundamental security practice, often referred to as data masking or data redaction.                                                                                                                                                                                                                           
E. To hide view definition and details from unauthorized users: Secure views in Snowflake prevent users                                                                                                                                                                                                                           
from seeing the underlying SQL query used to define the view. This effectively hides the view's logic and the                                                                                                                                                                                                                     
schema of the tables from which the view derives its data. This is especially useful when underlying table                                                                                                                                                                                                                        
structures are complex or sensitive, preventing unauthorized users from reverse-engineering the datastructure or potentially gaining unauthorized insights. If a regular view is used, users with access can see the                                                                                                              
view definition, and can deduce how the data is generated. Secure views enhance confidentiality as the view                                                                                                                                                                                                                       
details and schema are not accessible, adding a layer of security.                                                                                                                                                                                                                                                                
Options A, B, and D are not primary purposes of secure views:                                                                                                                                                                                                                                                                     
A. To store unstructured data: Snowflake natively supports storing both structured and unstructured data.                                                                                                                                                                                                                         
However, secure views are not primarily for storing data; they provide a controlled interface for accessing                                                                                                                                                                                                                       
data that is already stored.                                                                                                                                                                                                                                                                                                      
B. To increase query performance: While views in general can offer performance benefits in some scenarios                                                                                                                                                                                                                         
through pre-processing logic, secure views themselves do not inherently boost query performance. Security                                                                                                                                                                                                                         
overhead might incur a slight performance penalty.                                                                                                                                                                                                                                                                                
D. To optimize query concurrency and queuing: Secure views don't directly impact query concurrency or                                                                                                                                                                                                                             
queuing. Snowflake's query processing engine manages these aspects independent of secure views.                                                                                                                                                                                                                                   
In summary, secure views are crucial for safeguarding sensitive data and restricting access to underlying                                                                                                                                                                                                                         
implementation details in Snowflake, focusing on security rather than performance or storage.                                                                                                                                                                                                                                     
Authoritative Links:                                                                                                                                                                                                                                                                                                              
Snowflake Documentation on Secure Views: https://docs.snowflake.com/en/user-guide/views-secure.html                                                                                                                                                                                                                               
Snowflake Documentation on Data Security: https://docs.snowflake.com/en/user-guide/securityoverview.html                                                                                                                                                                                                                          
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
Which function should be used to authorize users to access rows in a base table when using secure views with                                                                                                                                                                                                                      
Secure Data Sharing?                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                  
A. CURRENT_ACCOUNT()<br>B. CURRENT_ROLE()<br>C. CURRENT_SESSION()<br>D. CURRENT_USER()                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>A</strong>                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                  
The correct function is CURRENT_ACCOUNT(). When creating secure views for secure data                                                                                                                                                                                                                                             
sharing, row-level security often needs to be implemented. This is achieved by incorporating                                                                                                                                                                                                                                      
functions within the view's definition to filter the data based on the context of the query.                                                                                                                                                                                                                                      
CURRENT_ACCOUNT() provides the identifier of the Snowflake account executing the query. This                                                                                                                                                                                                                                      
allows for the view to be written such that only specific data rows are returned to specific                                                                                                                                                                                                                                      
accounts that have been granted access. Using CURRENT_ACCOUNT() ensures that data is                                                                                                                                                                                                                                              
filtered based on the destination account in a shared relationship, a crucial security consideration.                                                                                                                                                                                                                             
Options such as CURRENT_ROLE(), CURRENT_SESSION(), and CURRENT_USER() are unsuitable                                                                                                                                                                                                                                              
for secure data sharing scenarios. CURRENT_ROLE() identifies the role used by the querying user,                                                                                                                                                                                                                                  
and it’s not reliable for controlling access across different accounts. CURRENT_SESSION()                                                                                                                                                                                                                                         
returns session details which are ephemeral and not suitable for long-term data access policies                                                                                                                                                                                                                                   
within shared data. CURRENT_USER() reveals the specific user that has connected to Snowflake                                                                                                                                                                                                                                      
and this is inappropriate in data sharing scenarios which involves roles and not users from other                                                                                                                                                                                                                                 
accounts. Therefore, CURRENT_ACCOUNT() acts as a reliable identifier to implement row-level                                                                                                                                                                                                                                       
security within secure views, enforcing granular data access controls across shared data. This                                                                                                                                                                                                                                    
promotes data governance, accountability, and security within the sharing framework. It's                                                                                                                                                                                                                                         
important to filter data based on the account consuming the shared data, ensuring sensitive                                                                                                                                                                                                                                       
information is only exposed to authorized parties.For further reading, refer to the official Snowflake documentation on:                                                                                                                                                                                                          
Secure Views: https://docs.snowflake.com/en/user-guide/views-secure                                                                                                                                                                                                                                                               
Data Sharing: https://docs.snowflake.com/en/user-guide/data-sharing-intro                                                                                                                                                                                                                                                         
CURRENT_ACCOUNT function: https://docs.snowflake.com/en/sqlreference/functions/current_account                                                                                                                                                                                                                                    
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                                                                                                               
Which Snowflake objects can be secured to protect data privacy? (Choose two.)                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                  
A. Schemas<br>B. Stages<br>C. Views<br>D. Materialized views<br>E. Tags                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                  
<details>                                                                                                                                                                                                                                                                                                                         
<summary><strong>✅ Answer : </strong></summary>                                                                                                                                                                                                                                                                                  
<strong>C, D</strong>                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                  
The Correct answer is ["C","D"]                                                                                                                                                                                                                                                                                                   
</details>                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                  
